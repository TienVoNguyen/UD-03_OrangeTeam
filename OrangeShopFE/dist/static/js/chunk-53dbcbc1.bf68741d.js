(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53dbcbc1"],{"0c32":function(t,e,n){"use strict";var a=n("53ca"),r=n("c7eb"),o=n("1da1"),i=(n("a15b"),n("fb6a"),n("bf19"),n("d3b7"),n("25f0"),n("d81d"),n("cb29"),n("4e82"),n("a630"),n("3ca3"),n("ac1f"),n("5319"),n("ddb0"),n("2b3d"),n("9861"),n("6c0c"));e["a"]={data:function(){return{optionAll:{value:null,label:"--Tất cả--"},nowDate:new Date,currentMonth:0,currentYear:0,listAccount:null,currentDate:(new Date).toJSON().slice(0,10).split("-").reverse().join("/")}},created:function(){this.currentMonth=1===this.nowDate.getMonth().toString().length?"0"+(this.nowDate.getMonth()+1):this.nowDate.getMonth()+1,this.currentYear=this.nowDate.getFullYear()},methods:{getListAccount:function(){var t=this;return Object(o["a"])(Object(r["a"])().mark((function e(){var n,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={status:1,isDelete:0,isSale:-1,accountType:2},e.next=3,i["d"](n);case 3:a=e.sent,t.listAccount=a.data.map((function(t){return{value:t.id,label:t.username}})),t.listAccount.unshift(t.optionAll);case 6:case"end":return e.stop()}}),e)})))()},genYears:function(){var t=parseInt(this.nowDate.getFullYear()),e=parseInt(t)-10,n=Array(t-e+1).fill().map((function(t,n){return{value:e+n,label:e+n}}));return n.sort((function(t,e){return e.value-t.value})),n},genMonths:function(){var t=Array.from({length:12},(function(t,e){return{value:1===(e+1).toString().length?"0"+(e+1):e+1,label:1===(e+1).toString().length?"0"+(e+1):e+1}}));return t},handleCurrentChange:function(t){this.pagination.pageNumber=t,this.getData()},handleSizeChange:function(t){this.pagination.pageSize=t,this.getData()},isEmpty:function(t){return!t||0===t.length},convertMessage:function(t){var e=t;return"success"===t&&(e="Lấy dữ liệu thành công"),e},convertDateObjectToString:function(t){return"object"===Object(a["a"])(t)?t.toJSON().slice(0,10).replace(/-/g,"-"):t},convertDate:function(t){return this.convertDateToLocalUTC(t,"DD/MM/YYYY HH:mm:ss")},formatNumber:function(t,e,n,a){return n&&(n=Math.round(100*n)/100),n?n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):0},downloadExcel:function(t,e){var n=window.URL.createObjectURL(new Blob([t])),a=document.createElement("a");a.href=n;var r=e;a.setAttribute("download",r),document.body.appendChild(a),a.click()}}}},"343a":function(t,e,n){"use strict";var a=n("1157"),r=n.n(a);e["a"]={data:function(){return{pageTitle:null}},created:function(){},mounted:function(){this.pageTitle=r()(".router-link-active li span")[0].innerText,this.equalWidthLabel()},methods:{getTitle:function(){return r()(".router-link-active li span")[0].innerText},equalWidthLabel:function(){var t=r()(".label-custom"),e=0;t.each((function(){r()(this).width()>e&&(e=r()(this).width())})),r()(".label-custom").width(e)},isNullorEmpty:function(t){return null===t||""===t||void 0===t}}}},"391d":function(t,e,n){"use strict";var a=n("b4a5"),r={data:function(){return{loading:null}},methods:{showLoading:function(){var t=this;this.loading=this.$loading({lock:!0,text:"Đang tải"}),setTimeout((function(){t.hideLoading()}),5e4)},hideLoading:function(){this.loading.close()}}},o={data:function(){return{duration:3e3}},methods:{notifySuccess:function(t,e){this.$notify({title:t,message:e,type:"success",duration:this.duration,customClass:"loading-backgroup-success"})},notifyWarning:function(t,e){this.$notify({title:t,message:e,type:"warning",duration:this.duration,customClass:"loading-backgroup-warning"})},notifyInfo:function(t,e){this.$notify({title:t,message:e,type:"info",duration:this.duration,customClass:"loading-backgroup-info"})},notifyError:function(t,e){this.$notify({title:t,message:e,type:"error",duration:this.duration,customClass:"loading-backgroup-error"})}}},i=(n("d3b7"),n("25f0"),{data:function(){return{}},methods:{convertDateToServer:function(t,e){return""===t||void 0===t||null==t?"":this.$moment(t,e).tz(this.$moment.tz.guess(!0)).utc().format()},convertDateToLocal:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).parseZone(this.$moment.tz.guess(!0)).local().format(e)},convertDateToLocalUTC:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).format(e)},convertDateToAnotherFormat:function(t,e,n){return""===t||void 0===t?"":this.$moment(t,e).format(n)},ConvertTimeRanges:function(t){if(null!=t&&t.toString().length>0){var e=t.split(" to ");return this.TimeRangesModel.from=this.convertDateToAnotherFormat(e[0]+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel.to=this.convertDateToAnotherFormat(e[1]+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel}return this.TimeRangesModel.to=null,this.TimeRangesModel.from=null,this.TimeRangesModel},ConvertTimeFrom:function(t){return this.convertDateToAnotherFormat(t+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeTo:function(t){return this.convertDateToAnotherFormat(t+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeFromToDateJava:function(t){return t+" 00:00:00"},ConvertTimeToToDateJava:function(t){return t+" 23:59:59"}}}),c={methods:{hasPermission:function(t,e){return-1!==this.$store.getters.actions[null===t||void 0===t?void 0:t.toLowerCase()].indexOf(e)}}};e["a"]={mixins:[a["a"],r,o,i,c]}},"56a9":function(t,e,n){"use strict";n("6f64")},"6c0c":function(t,e,n){"use strict";n.d(e,"f",(function(){return p})),n.d(e,"e",(function(){return m})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return f})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return v}));var a=n("b775"),r=(n("d3b7"),n("bc3a")),o=n.n(r),i=n("5c96"),c=n("4360"),s=n("5f87"),l=n("a18c"),u=o.a.create({baseURL:"/api/",timeout:65e3});u.interceptors.request.use((function(t){return c["a"].getters.token&&(t.headers["Authorization"]="Bearer "+Object(s["a"])(),t.headers["portal"]=1,t.headers["Content-Type"]="application/json",t.responseType="arraybuffer"),t}),(function(t){return console.log(t),Promise.reject(t)})),u.interceptors.response.use((function(t){var e=t.data;return e}),(function(t){return console.log("err"+t),Object(i["Message"])({message:t.response.data.message,type:"error",duration:5e3}),401===t.response.data.code&&(Object(s["b"])(),l["b"].push({path:"/"})),403===t.response.data.code&&l["b"].push({path:"/"}),Promise.reject(t)}));var h=u;function p(t){return Object(a["a"])({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ReportOrderFailOver",method:"post",data:t})}function m(t){return Object(a["a"])({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ReportOrderFailOverCampaign",method:"post",data:t})}function d(t){return Object(a["a"])({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ReportOrderFailOverDetail",method:"post",data:t})}function g(t){return h({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ExportReportOrderFailOver",method:"post",data:t})}function f(t){return h({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ExportReportCamPaignOrderFailOver",method:"post",data:t})}function b(t){return h({url:"model/public/BRNToolCoreAPI/BRNToolCoreAPI/api/ReportOrderFailOver/ExportReportOrderFailOverDetail",method:"post",data:t})}function v(t){return Object(a["a"])({url:"model/public/PortalAPI/PortalAPI/api/sysAccounts/search",method:"post",data:t})}},"6f64":function(t,e,n){},"81d5":function(t,e,n){"use strict";var a=n("7b0b"),r=n("23cb"),o=n("50c4");t.exports=function(t){var e=a(this),n=o(e.length),i=arguments.length,c=r(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,l=void 0===s?n:r(s,n);while(l>c)e[c++]=t;return e}},a91d:function(t,e,n){"use strict";n.r(e);n("ac1f"),n("841c"),n("b0c0");var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"page-title"},[t._v(t._s(t.pageTitle))]),e("div",{staticClass:"col-sm-12 row"},[e("div",{staticClass:"col-sm-3"},[t._m(0),e("div",[e("el-select",{staticClass:"w-100",attrs:{placeholder:"Chọn năm"},model:{value:t.search.year,callback:function(e){t.$set(t.search,"year",e)},expression:"search.year"}},t._l(t.years,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"col-sm-3"},[t._m(1),e("div",[e("el-select",{staticClass:"w-100",attrs:{placeholder:"Chọn tháng"},model:{value:t.search.month,callback:function(e){t.$set(t.search,"month",e)},expression:"search.month"}},t._l(t.months,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"col-sm-3"},[e("span",{},[t._v("Tài khoản")]),e("div",[e("el-select",{staticClass:"w-100",attrs:{filterable:"",placeholder:"Chọn tài khoản"},model:{value:t.search.account,callback:function(e){t.$set(t.search,"account",e)},expression:"search.account"}},t._l(t.listAccount,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)]),e("div",{staticClass:"col-sm-3"},[e("span",{},[t._v("Tên chiến dịch")]),e("el-input",{attrs:{placeholder:"Nhập tên chiến dịch"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchF.apply(null,arguments)}},model:{value:t.search.campaign,callback:function(e){t.$set(t.search,"campaign",e)},expression:"search.campaign"}})],1),e("div",{staticClass:"col-sm-12 d-flex justify-content-center pt-4"},[e("el-button",{attrs:{icon:"el-icon-search",type:"primary",plain:""},on:{click:t.searchF}},[t._v("Tìm kiếm")]),t.hasPermission(t.$options.name,"ReportFailoverByMonth.ExportExcel")?e("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return t.exportData()}}},[t._v(" Xuất Excel ")]):t._e(),e("el-button",{attrs:{icon:"el-icon-refresh",type:"warning",plain:""},on:{click:function(e){return t.removeFilter()}}},[t._v("Bỏ lọc")])],1),e("div",{staticClass:"pt-4"},[e("el-table",{staticStyle:{width:"100%"},attrs:{id:"reportFailoverByMonth",data:t.items,border:"","span-method":t.colSpanMethod,"header-cell-style":{textAlign:"center"}}},[e("el-table-column",{attrs:{label:"STT","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.$index?"Tổng":e.$index)+" ")]}}])}),e("el-table-column",{attrs:{prop:"accountName",label:"Tài khoản"}}),e("el-table-column",{attrs:{prop:"campaignCode",label:"Chiến dịch"}}),e("el-table-column",{attrs:{label:"Thông tin đơn hàng FailOver"}},[e("el-table-column",{attrs:{prop:"dataNumber",formatter:t.formatNumber,label:"Tổng SĐT",align:"right"}}),e("el-table-column",{attrs:{prop:"countZalo",formatter:t.formatNumber,label:"Tổng SĐT thành công Zalo",align:"right"}}),e("el-table-column",{attrs:{prop:"countViber",formatter:t.formatNumber,label:"Tổng SĐT thành công Viber",align:"right"}}),e("el-table-column",{attrs:{prop:"countSms",formatter:t.formatNumber,label:"Tổng SĐT thành công SMS",align:"right"}}),e("el-table-column",{attrs:{prop:"countError",formatter:t.formatNumber,label:"Tổng SĐT thất bại",align:"right"}}),e("el-table-column",{attrs:{prop:"countDuplicate",formatter:t.formatNumber,label:"Tổng SĐT lặp",align:"right"}})],1)],1),e("div",{staticClass:"mt-4 d-block float-right text-right"},[e("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-size":t.pagination.pageSize,"page-sizes":t.pageSizes,layout:"sizes,prev, pager, next, total",total:t.pagination.totalItems},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNumber",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNumber",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)])])},r=[function(){var t=this,e=t._self._c;return e("span",{},[t._v("Năm "),e("i",{staticClass:"required"},[t._v("*")])])},function(){var t=this,e=t._self._c;return e("span",{},[t._v("Tháng "),e("i",{staticClass:"required"},[t._v("*")])])}],o=n("c7eb"),i=n("1da1"),c=(n("498a"),n("d3b7"),n("25f0"),n("391d")),s=n("0c32"),l=n("343a"),u=n("6c0c"),h={name:"ReportFailoverByMonth",mixins:[c["a"],s["a"],l["a"]],data:function(){return{itemsTest:[{accountName:"Total",campaignCode:"Total",dataNumber:55e3,countZalo:55e3,Countviber:50500,CountSms:25e3,countError:35e3,CountDuplicate:25e3},{accountName:"BiBo",campaignCode:"BiBo_C1",dataNumber:5e4,countZalo:5e3,Countviber:5e3,CountSms:15e3,countError:5e3,CountDuplicate:2e4},{accountName:"BiRain",campaignCode:"BiRain_C2",dataNumber:5e4,countZalo:5e3,Countviber:5e3,CountSms:15e3,countError:5e3,CountDuplicate:2e4},{accountName:"Văn Thanh",campaignCode:"LeeMinHo_C2",dataNumber:26e3,countZalo:16e3,Countviber:28e3,CountSms:18e3,countError:8e3,CountDuplicate:29e3}],items:[],years:null,months:null,search:{year:null,month:null,campaign:null,account:null},pageTitle:null}},watch:{"pagination.pageSize":function(t,e){this.pagination.pageSize=t,this.pagination.pageNumber=1,this.getData()}},created:function(){this.years=this.genYears(),this.months=this.genMonths(),this.search.month=this.currentMonth,this.search.year=this.currentYear,this.getData(),this.getListAccount()},methods:{getData:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validateSearchInput()){e.next=2;break}return e.abrupt("return");case 2:return n={year:parseInt(t.search.year),month:parseInt(t.search.month),accountId:t.search.account,campaignCode:t.isNullorEmpty(t.search.campaign)?t.search.campaign:t.search.campaign.toString().trim(),pageIndex:t.pagination.pageNumber,pageSize:t.pagination.pageSize},t.showLoading(),e.next=6,u["f"](n);case 6:a=e.sent,200===a.code&&(_.isEmpty(a.data.result[0])||1===a.data.result.length?t.items=[]:t.items=a.data.result,t.pagination.totalItems=a.data.totalItems,t.hideLoading());case 8:case"end":return e.stop()}}),e)})))()},exportData:function(){var t=this;return Object(i["a"])(Object(o["a"])().mark((function e(){var n,a;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.validateSearchInput()){e.next=2;break}return e.abrupt("return");case 2:return n={year:parseInt(t.search.year),month:parseInt(t.search.month),accountId:t.search.account,campaignCode:t.isNullorEmpty(t.search.campaign)?t.search.campaign:t.search.campaign.toString().trim(),pageIndex:1,pageSize:999999},t.showLoading(),e.next=6,u["b"](n);case 6:a=e.sent,t.downloadExcel(a,"BaoCaoTongHopFailOverThang"+t.search.month+".xlsx"),t.hideLoading();case 9:case"end":return e.stop()}}),e)})))()},searchF:function(){this.pagination.pageNumber=1,this.getData()},removeFilter:function(){this.search={year:this.currentYear,month:this.currentMonth,campaign:null,account:null},this.pagination={pageNumber:1,pageSize:10,totalItems:0,totalPages:0},this.getData()},colSpanMethod:function(t){t.row,t.column;var e=t.rowIndex,n=t.columnIndex;if(0===e){if(0===n)return[1,3];if(1===n||2===n)return[0,0]}},validateSearchInput:function(){return this.isEmpty(this.search.month)?(this.notifyWarning("Cảnh báo","Vui lòng chọn tháng"),!1):!this.isEmpty(this.search.year)||(this.notifyWarning("Cảnh báo","Vui lòng chọn năm"),!1)}}},p=h,m=(n("56a9"),n("2877")),d=Object(m["a"])(p,a,r,!1,null,"7c29656e",null);e["default"]=d.exports},b4a5:function(t,e,n){"use strict";e["a"]={data:function(){return{pagination:{pageNumber:1,pageSize:10,totalItems:0,totalPages:0},pageSizes:[10,20,50,100]}},methods:{}}},bf19:function(t,e,n){"use strict";var a=n("23e7");a({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},cb29:function(t,e,n){var a=n("23e7"),r=n("81d5"),o=n("44d2");a({target:"Array",proto:!0},{fill:r}),o("fill")}}]);