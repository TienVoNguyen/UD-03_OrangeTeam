(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ef90f2d"],{"0b22d":function(t,e,n){"use strict";n("da31")},1:function(t,e){},2:function(t,e){},3:function(t,e){},3081:function(t,e,n){"use strict";var i=n("5530"),a=(n("d3b7"),n("25f0"),n("4c93")),s=n("7bb1");Object(s["c"])("required",Object(i["a"])(Object(i["a"])({},a["c"]),{},{message:" bắt buộc nhập"})),Object(s["c"])("requiredSelect",Object(i["a"])(Object(i["a"])({},a["c"]),{},{message:" bắt buộc chọn"})),Object(s["c"])("ext",Object(i["a"])(Object(i["a"])({},a["a"]),{},{message:" không đúng định dạng"})),Object(s["c"])("regex",Object(i["a"])(Object(i["a"])({},a["b"]),{},{message:" không đúng định dạng"})),Object(s["c"])("max",{validate:function(t,e){return t.toString().length<=e.length},params:["length"],message:" không vượt quá {length} ký tự"}),Object(s["c"])("isLower",{params:["target"],validate:function(t,e){var n=e.target;return!n||+t<+n},message:" phải nhỏ hơn chặn trên"}),e["a"]={data:function(){return{loginFields:{username:"Tên đăng nhập",password:"Mật khẩu"},approverFields:{unit:"Đơn vị",position:"Chức vụ",approver:"Họ và tên"},scorePeriodFields:{name:"Kỳ chấm điểm"},lendingFields:{type:"Loại chấm điểm",name:"Loại hình chấm điểm"},systemFields:{dept1:"Đơn vị",dept1_type:"Loại đơn vị",dept2:"Phòng ban",side:"Miền",name:"Tên",status:"Trạng thái",code:"Mã",position:"Chức vụ",file:"File"},customer_identificationFields:{code_tax:"Mã số thuế",code_reg:"Mã số đăng ký kinh doanh",name_dn:"Tên doanh nghiệp",name_dept:"Tên đơn vị quản lý",code_dept:"Mã đơn vị quản lý"},rank_adjustFields:{rule_change:"Quy tắc điều chỉnh",cause_change:"Nguyên nhân điều chỉnh",reason_change:"Lý do điều chỉnh"},functionsName:{title:"Tiêu đề",path:"Path",icon:"Icon",component:"Mã màn hình",priority:"Thứ tự"},economic_sbvFields:{codeSBV:"Mã ngành kinh tế SBV",nameSBV:"Tên ngành kinh tế SBV",requestChange:"Yêu cầu điều chỉnh",file:"File"},groupFCCFields:{code:"Mã ngành kinh tế FCC",name:"Tên ngành kinh tế FCC",sbv:"Ngành kinh tế SBV",css:"Nhóm ngành"},groupFCCImportFields:{file:"File"},matrixClassifyFields:{nameMatrix:"Tên ma trận",rules:"Loại quy tắc phân loại quy mô",tpBankRule:"Quy tắc phân loại TPBank",pointRule:"Quy tắc phân loại theo điểm chỉ tiêu",establishMatrix:"Thiết lập ma trận",requestChangeMatrix:"Lý do từ chối"},tpBankRuleFields:{name:"Tên quy tắc",unit:"Đơn vị báo cáo tài chính",sales:"Doanh thu",salesCriteria:"Doanh thu - Chọn tiêu chí",equity:"Vốn chủ sở hữu",equityCriteria:"Vốn chủ sở hữu - Chọn tiêu chí",configScalePointList:"Thiết lập điểm quy mô"},salesScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},equityScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},configScalePointFields:{size:"Size",scale:"Quy mô"},branches:{branchCode:"Mã đơn vị",branchCodeNumber:"Mã số đơn vị",branchTypeName:"Loại đơn vị",branchName:"Tên đơn vị",districtName:"Miền"},departments:{branchName:"Tên đơn vị",name:"Tên phòng ban"},positions:{branchName:"Tên đơn vị",name:"Tên chức vụ",departmentName:"Tên phòng ban"},groups:{name:"Tên nhóm",code:"Mã nhóm"},users:{groupName:"Tên nhóm",username:"Tên đăng nhập",name:"Tên nhân viên"},ruleChangeRankFields:{content:"Lý do"},singleScoringModelKHDNFields:{codeModel:"Mã mô hình đơn",nameModel:"Tên mô hình đơn",typeRank:"Loại xếp hạng",scaleClassify:"Phân loại quy mô",industryGroup:"Nhóm ngành",inputModel:"Tên mô hình nhập liệu",typeCode:"Loại code",fileCodeModel:"File code model",fileImport:"File",userCreated:"Người tạo",userApproved:"Người duyệt"},configParameterPropertyFields:{codeProperty:"Mã thuộc tính",nameProperty:"Tên thuộc tính",description:"Mô tả",file:"File"}}},methods:{messageError:function(t,e){if(void 0!==e)return t+e}}}},"391d":function(t,e,n){"use strict";var i=n("b4a5"),a={data:function(){return{loading:null}},methods:{showLoading:function(){var t=this;this.loading=this.$loading({lock:!0,text:"Đang tải"}),setTimeout((function(){t.hideLoading()}),5e4)},hideLoading:function(){this.loading.close()}}},s={data:function(){return{duration:3e3}},methods:{notifySuccess:function(t,e){this.$notify({title:t,message:e,type:"success",duration:this.duration,customClass:"loading-backgroup-success"})},notifyWarning:function(t,e){this.$notify({title:t,message:e,type:"warning",duration:this.duration,customClass:"loading-backgroup-warning"})},notifyInfo:function(t,e){this.$notify({title:t,message:e,type:"info",duration:this.duration,customClass:"loading-backgroup-info"})},notifyError:function(t,e){this.$notify({title:t,message:e,type:"error",duration:this.duration,customClass:"loading-backgroup-error"})}}},o=(n("d3b7"),n("25f0"),{data:function(){return{}},methods:{convertDateToServer:function(t,e){return""===t||void 0===t||null==t?"":this.$moment(t,e).tz(this.$moment.tz.guess(!0)).utc().format()},convertDateToLocal:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).parseZone(this.$moment.tz.guess(!0)).local().format(e)},convertDateToLocalUTC:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).format(e)},convertDateToAnotherFormat:function(t,e,n){return""===t||void 0===t?"":this.$moment(t,e).format(n)},ConvertTimeRanges:function(t){if(null!=t&&t.toString().length>0){var e=t.split(" to ");return this.TimeRangesModel.from=this.convertDateToAnotherFormat(e[0]+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel.to=this.convertDateToAnotherFormat(e[1]+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel}return this.TimeRangesModel.to=null,this.TimeRangesModel.from=null,this.TimeRangesModel},ConvertTimeFrom:function(t){return this.convertDateToAnotherFormat(t+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeTo:function(t){return this.convertDateToAnotherFormat(t+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeFromToDateJava:function(t){return t+" 00:00:00"},ConvertTimeToToDateJava:function(t){return t+" 23:59:59"}}}),l={methods:{hasPermission:function(t,e){return-1!==this.$store.getters.actions[null===t||void 0===t?void 0:t.toLowerCase()].indexOf(e)}}};e["a"]={mixins:[i["a"],a,s,o,l]}},6724:function(t,e,n){"use strict";n("8d41");var i="@@wavesContext";function a(t,e){function n(n){var i=Object.assign({},e.value),a=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=a.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",s.appendChild(l)),a.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(n.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(n.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=a.color,l.className="waves-ripple z-active",!1}}return t[i]?t[i].removeHandle=n:t[i]={removeHandle:n},n}var s={bind:function(t,e){t.addEventListener("click",a(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[i].removeHandle,!1),t.addEventListener("click",a(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[i].removeHandle,!1),t[i]=null,delete t[i]}},o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e["a"]=s},"6d84":function(t,e,n){},"6dfd":function(t,e,n){"use strict";n("c063")},"8d41":function(t,e,n){},a09a:function(t,e,n){"use strict";n("b81c")},a1c8:function(t,e,n){"use strict";n("e58f")},b4a5:function(t,e,n){"use strict";e["a"]={data:function(){return{pagination:{pageNumber:1,pageSize:10,totalItems:0,totalPages:0},pageSizes:[10,20,50,100]}},methods:{}}},b81c:function(t,e,n){},b9e3:function(t,e,n){"use strict";n("6d84")},c063:function(t,e,n){},da31:function(t,e,n){},e58f:function(t,e,n){},ffc1:function(t,e,n){"use strict";n.r(e);n("b0c0"),n("99af"),n("fb6a");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"btn head-btn col-6",class:1===t.searchObj.type?"head-btn-access":"head-btn",on:{click:t.activeRankUp}},[t._v("Quy tắc điều chỉnh tăng hạng")]),e("div",{staticClass:"btn head-btn col-6",class:2===t.searchObj.type?"head-btn-access":"head-btn",on:{click:t.activeRankDown}},[t._v("Quy tắc điều chỉnh giảm hạng")])]),e("div",{staticClass:"row mt-3"},[e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[1===t.searchObj.type?e("label",{attrs:{for:"content"}},[t._v("Lý do tăng hạng")]):t._e(),2===t.searchObj.type?e("label",{attrs:{for:"content"}},[t._v("Lý do giảm hạng")]):t._e(),e("el-input",{staticClass:"form-control non-border mt-2",attrs:{id:"content",value:"",placeholder:1===t.searchObj.type?"Nhập lý do tăng hạng":"Nhập lý do giảm hạng"},model:{value:t.searchObj.content,callback:function(e){t.$set(t.searchObj,"content",e)},expression:"searchObj.content"}})],1),e("div",{staticClass:"col-2"}),e("div",{staticClass:"col-3"},[e("label",{attrs:{for:"status"}},[t._v("Trạng thái")]),e("el-select",{staticClass:"form-control non-border mt-2",attrs:{id:"status",value:"",filterable:"",clearable:""},model:{value:t.searchObj.status,callback:function(e){t.$set(t.searchObj,"status",e)},expression:"searchObj.status"}},t._l(t.status,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]),e("div",{staticClass:"row mt-5"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isAdmin,expression:"!isAdmin"}],staticClass:"col-12 text-center"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handleSearch}},[t._v("Tìm kiếm")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.handleCreate}},[t._v("Thêm mới")]),e("el-button",{attrs:{type:"danger",plain:""},on:{click:t.handleImport}},[t._v("Import")]),e("el-button",{attrs:{type:"info",plain:""},on:{click:t.handleExport}},[t._v("Export")]),e("el-button",{attrs:{type:"success",plain:""},on:{click:t.handleReview}},[t._v("Trình duyệt")])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isAdmin,expression:"isAdmin"}],staticClass:"col-12 text-center"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handleSearch}},[t._v("Tìm kiếm")]),e("el-button",{attrs:{type:"info",plain:""},on:{click:t.handleExport}},[t._v("Export")])],1)]),e("div",{staticClass:"row mt-5"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%"},attrs:{data:t.list,"header-cell-style":{background:"#F2F2F3",color:"#000000"},border:"",fit:"","highlight-current-row":""}},[t.isAdmin?t._e():e("el-table-column",{attrs:{width:"100px",label:"Thao tác"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.row,a=n.$index;return[2===i.status||5===i.status||6===i.status||7===i.status?e("span",{staticClass:"me-2",attrs:{title:"Xem chi tiết"},on:{click:function(e){return t.handleViewDetail(i,a)}}},[e("svg-icon",{staticStyle:{color:"#A045CB"},attrs:{"icon-class":"eye-open"}})],1):t._e(),e("input",{directives:[{name:"show",rawName:"v-show",value:1===i.status||4===i.status,expression:"row.status === 1 || row.status === 4"}],ref:"checkbox"+i.id,staticClass:"me-2",attrs:{type:"checkbox"},on:{change:function(e){return t.selectRuleChangeRank(i)}}}),1===i.status||4===i.status||3===i.status?e("span",{staticClass:"me-2",on:{click:function(e){return t.handleUpdate(i,a)}}},[e("svg-icon",{staticStyle:{color:"#083863"},attrs:{"icon-class":"edit"}})],1):t._e(),1===i.status||4===i.status||3===i.status?e("span",{on:{click:function(e){return t.handleDelete(i,a)}}},[e("i",{staticClass:"el-icon-delete",staticStyle:{color:"#FF485A"}})]):t._e(),2===i.status?e("span",{staticClass:"me-2",attrs:{title:"Trình duyệt"},on:{click:function(e){return t.handleApprove(i,a)}}},[e("i",{staticClass:"el-icon-document-checked",staticStyle:{color:"#0FA958"}})]):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:6===i.status,expression:"row.status === 6"}],attrs:{title:"Thay đổi trạng thái"},on:{click:function(e){return t.handleHotChangeActive(i,a)}}},[e("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#FF485A"}})]),e("span",{directives:[{name:"show",rawName:"v-show",value:5===i.status||7===i.status,expression:"row.status === 5 ||row.status === 7"}],attrs:{title:"Thay đổi trạng thái"},on:{click:function(e){return t.handleHotChangeActive(i,a)}}},[e("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#0FA958"}})])]}}],null,!1,4052375658)},[e("template",{slot:"header"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheckAll,expression:"isCheckAll"}],ref:"checkAll",staticClass:"me-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCheckAll)?t._i(t.isCheckAll,null)>-1:t.isCheckAll},on:{change:[function(e){var n=t.isCheckAll,i=e.target,a=!!i.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);i.checked?o<0&&(t.isCheckAll=n.concat([s])):o>-1&&(t.isCheckAll=n.slice(0,o).concat(n.slice(o+1)))}else t.isCheckAll=a},t.selectAllRuleChangeRankNeedApprove]}}),e("label",[t._v(" Thao tác ")])])],2),t.isAdmin?e("el-table-column",{attrs:{width:"100px",label:"Thao tác"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.row,a=n.$index;return[2!==i.status?e("span",{staticClass:"me-2",on:{click:function(e){return t.handleViewDetail(i,a)}}},[e("svg-icon",{staticStyle:{color:"#A045CB","font-size":"20px"},attrs:{"icon-class":"eye-open"}})],1):t._e(),2===i.status?e("span",{staticClass:"me-2",on:{click:function(e){return t.handleApprove(i,a)}}},[e("i",{staticClass:"el-icon-document-checked",staticStyle:{color:"#0FA958","font-size":"20px"}})]):t._e(),e("span",{directives:[{name:"show",rawName:"v-show",value:6===i.status,expression:"row.status === 6"}],on:{click:function(e){return t.handleHotChangeActive(i,a)}}},[e("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#FF485A","font-size":"20px"}})]),e("span",{directives:[{name:"show",rawName:"v-show",value:5===i.status||7===i.status,expression:"row.status === 5 ||row.status === 7"}],on:{click:function(e){return t.handleHotChangeActive(i,a)}}},[e("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#0FA958","font-size":"20px"}})])]}}],null,!1,3796992647)},[e("template",{slot:"header"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheckAll,expression:"isCheckAll"}],ref:"checkAll",staticClass:"me-2",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCheckAll)?t._i(t.isCheckAll,null)>-1:t.isCheckAll},on:{change:[function(e){var n=t.isCheckAll,i=e.target,a=!!i.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);i.checked?o<0&&(t.isCheckAll=n.concat([s])):o>-1&&(t.isCheckAll=n.slice(0,o).concat(n.slice(o+1)))}else t.isCheckAll=a},t.selectAllRuleChangeRankNeedApprove]}}),e("label",[t._v(" Thao tác ")])])],2):t._e(),e("el-table-column",{attrs:{label:1===t.searchObj.type?"Lý do tăng hạng":"Lý do giảm hạng",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(n.content)+" ")]}}])}),e("el-table-column",{attrs:{label:"Trạng thái",width:"300px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v(" "+t._s(t.statusFilter(n.status))+" ")]}}])})],1),e("DeleteRuleChangeRank",{attrs:{current:t.currentObj,"dialog-delete-visible":t.dialogDeleteVisible,list:t.list,title:t.title,index:t.indexRow,"list-selected":t.ruleChangeRankSelected},on:{"update:dialogDeleteVisible":function(e){t.dialogDeleteVisible=e},"update:dialog-delete-visible":function(e){t.dialogDeleteVisible=e}}}),e("ModifyRuleChangeRank",{attrs:{current:t.currentObj,"dialog-form-visible":t.dialogFormVisible,list:t.list,title:t.title,flag:t.flagReject,status:t.status,"dialog-status":t.dialogStatus},on:{"update:dialogFormVisible":function(e){t.dialogFormVisible=e},"update:dialog-form-visible":function(e){t.dialogFormVisible=e}}}),e("ImportRuleChangeRank",{attrs:{"dialog-import-visible":t.dialogImportVisible,type:t.searchObj.type},on:{"update:dialogImportVisible":function(e){t.dialogImportVisible=e},"update:dialog-import-visible":function(e){t.dialogImportVisible=e}}}),e("ReviewRuleChangeRank",{attrs:{"dialog-review-visible":t.dialogReviewVisible,title:t.title,type:t.searchObj.type,list:t.ruleChangeRankSelected},on:{"update:dialogReviewVisible":function(e){t.dialogReviewVisible=e},"update:dialog-review-visible":function(e){t.dialogReviewVisible=e}}})],1),e("div",{staticClass:"float-end mt-3"},[e("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-size":t.pagination.pageSize,"page-sizes":t.pageSizes,layout:"sizes,prev, pager, next, total",total:t.pagination.totalItems},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNumber",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNumber",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},a=[],s=(n("c740"),n("a434"),n("4de4"),n("d3b7"),n("d81d"),n("3ca3"),n("ddb0"),n("159b"),n("6724")),o=n("391d"),l=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogDeleteVisible,"before-close":t.closeDialog,center:!0,width:"40%","show-close":!1},on:{"update:visible":function(e){t.dialogDeleteVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("div",{staticClass:"text-center"},[e("h5",{staticClass:"text-danger"},[t._v(t._s(t.renderContent()))])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("Đóng")]),"delete"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.deleteData}},[t._v("Đồng ý")]):t._e(),"accept"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.approveData}},[t._v("Đồng ý")]):t._e(),"acceptlist"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.approveDataList}},[t._v("Đồng ý")]):t._e(),"hotchange"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.hotChangeData}},[t._v("Đồng ý")]):t._e()],1)])},r=[],c=(n("a9e3"),n("b775"));function u(t){return Object(c["a"])({url:"rule-change-rank",method:"post",data:t})}function h(t){return Object(c["a"])({url:"rule-change-rank/create",method:"post",data:t})}function d(t){return Object(c["a"])({url:"rule-change-rank/".concat(t.id),method:"put",data:t})}function g(t){return Object(c["a"])({url:"rule-change-rank/".concat(t),method:"delete"})}function p(t){return Object(c["a"])({url:"rule-change-rank/import",method:"post",data:t})}var f={name:"DeleteRuleChangeRank",mixins:[o["a"]],props:{current:{type:Object,default:null},dialogDeleteVisible:{type:Boolean,default:!1},list:{type:Array,default:null},index:{type:Number,default:null},title:{type:String,default:null}},methods:{renderTitle:function(){return 1===this.current.type&&"delete"===this.title?"Xóa quy tắc thăng hạng":2===this.current.type&&"delete"===this.title?"Xóa quy tắc giảm hạng":1===this.current.type&&"hotchange"===this.title||2===this.current.type&&"hotchange"===this.title?"Thay đổi trạng thái":void 0},renderContent:function(){return 1===this.current.type&&"delete"===this.title?"Bạn có chắc chắn muốn xóa quy tắc thăng hạng này không ?":2===this.current.type&&"delete"===this.title?"Bạn có chắc chắn muốn xóa quy tắc giảm hạng này không ?":1===this.current.type&&"hotchange"===this.title?"Bạn có chắc chắn muốn thay đổi trạng thái của lý do tăng hạng này không ?":2===this.current.type&&"hotchange"===this.title?"Bạn có chắc chắn muốn thay đổi trạng thái của lý do giảm hạng này không ?":void 0},closeDialog:function(){this.$emit("update:dialogDeleteVisible",!1)},approveDataList:function(){var t=this,e=[];this.list.forEach((function(n,i){!0===t.$refs["checkbox".concat(i)].checked&&(console.log(n),e.push(n))}))},approveData:function(){var t=this;d(this.current).then((function(e){t.$emit("update:dialogDeleteVisible",!1),t.$parent.getList(),t.notifySuccess("Thông tin","Phê duyệt thành công")}));var e=[];this.list.forEach((function(n,i){!0===t.$refs["checkbox".concat(i)].checked&&(console.log(n),e.push(n))}))},hotChangeData:function(){var t=this;5===this.current.status||7===this.current.status?this.current.status=6:6===this.current.status&&(this.current.status=7),d(this.current).then((function(e){t.$emit("update:dialogDeleteVisible",!1),1===t.current.type?(t.notifySuccess("Thông tin","Phê duyệt quy tắc thăng hạng thành công"),t.$parent.activeRankUp()):2===t.current.type&&(t.notifySuccess("Thông tin","Phê duyệt quy tắc giảm hạng thành công"),t.$parent.activeRankDown())}))},deleteData:function(){var t=this;g(this.current.id).then((function(e){t.$emit("update:dialogDeleteVisible",!1),1===e.data.type?(t.notifySuccess("Thông tin","Xóa quy tắc thăng hạng thành công"),t.$parent.activeRankUp()):2===e.data.type&&(t.notifySuccess("Thông tin","Xóa quy tắc giảm hạng thành công"),t.$parent.activeRankDown())})),setTimeout((function(){t.listLoading=!1}),1e3)}}},m=f,v=(n("0b22d"),n("2877")),b=Object(v["a"])(m,l,r,!1,null,"5c6927d8",null),y=b.exports,k=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(n){var i=n.handleSubmit;return[e("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.dialogFormVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.current,"label-position":"left","label-width":"70px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"content",rules:{required:!0,max:500}},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.errors;return[e("el-form-item",{attrs:{prop:"content",error:t.messageError(t.ruleChangeRankFields.content,i[0])}},[1===t.current.type?e("label",[t._v("Lý do tăng hạng"),e("span",{staticClass:"text-danger"},[t._v("*")])]):t._e(),2===t.current.type?e("label",[t._v("Lý do giảm hạng"),e("span",{staticClass:"text-danger"},[t._v("*")])]):t._e(),e("el-input",{staticClass:"form-control",attrs:{id:"content",disabled:"approve"===t.dialogStatus||"view"===t.dialogStatus,type:"textarea",value:"",placeholder:1===t.current.type?"Nhập lý do tăng hạng":"Nhập lý do giảm hạng"},model:{value:t.current.content,callback:function(e){t.$set(t.current,"content",e)},expression:"current.content"}})],1)]}}],null,!0)})],1)]),t.flag?e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"requestChange",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.errors;return[e("el-form-item",{attrs:{prop:"requestChange",error:t.messageError(t.economic_sbvFields.requestChange,i[0])}},[e("label",[t._v("Yêu cầu điều chỉnh "),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("el-input",{staticClass:"form-control",attrs:{id:"requestChange",disabled:("approve"===t.dialogStatus||"view"===t.dialogStatus)&&!t.flag||3===t.current.status,value:"",placeholder:"Yêu cầu điều chỉnh"},model:{value:t.current.requestChange,callback:function(e){t.$set(t.current,"requestChange",e)},expression:"current.requestChange"}})],1)]}}],null,!0)})],1)]):t._e()]),e("div",{staticClass:"dialog-footer text-center",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("ĐÓNG")]),"create"!==t.dialogStatus&&"update"!==t.dialogStatus||t.flag?t._e():e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return i(t.submit)}}},[t._v("LƯU")]),"create"!==t.dialogStatus&&"update"!==t.dialogStatus||t.flag?t._e():e("el-button",{attrs:{disabled:"create"===t.dialogStatus,type:"success",plain:""},on:{click:t.handleReviewDialog}},[t._v("TRÌNH DUYỆT")]),t.flag?e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return i(t.submit)}}},[t._v("LƯU")]):t._e(),"approve"!==t.dialogStatus||t.flag?t._e():e("el-button",{attrs:{type:"success",plain:""},on:{click:function(e){return i(t.submit)}}},[t._v("PHÊ DUYỆT")]),"approve"!==t.dialogStatus||t.flag?t._e():e("el-button",{attrs:{type:"danger",plain:""},on:{click:function(e){return t.handleRejectFrontEnd(t.submit)}}},[t._v("TỪ CHỐI")])],1)],1)]}}])})},C=[],w=n("3081"),_=n("7bb1"),x=n("4c93");Object(_["c"])("required",x["c"]),Object(_["c"])("max",{validate:function(t,e){return t.length<=e.length},params:["length"],message:" không được vượt quá {length} kí tự"});var R={name:"ModifyRuleChangeRank",components:{ValidationObserver:_["a"],ValidationProvider:_["b"]},mixins:[w["a"],o["a"]],props:{current:{type:Object,default:null},dialogFormVisible:{type:Boolean,default:!1},dialogStatus:{type:String,default:""},title:{type:String,default:""},list:{type:Array,default:null},flag:{type:Boolean,default:!1}},data:function(){return{rules:{}}},methods:{closeDialog:function(){var t=this;this.$emit("update:dialogFormVisible",!1),this.$nextTick((function(){t.$refs.observer.reset()}))},submit:function(){"create"===this.dialogStatus?this.createData():"update"===this.dialogStatus?this.updateData():"approve"!==this.dialogStatus||this.flag?this.flag&&this.rejectData():this.approveData()},handleReviewDialog:function(){var t=this;this.current.status=2,d(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?(t.$parent.activeRankUp(),t.notifySuccess("Thông tin","Trình duyệt quy tắc tăng hạng thành công")):2===e.data.type&&(t.$parent.activeRankDown(),t.notifySuccess("Thông tin","Trình duyệt quy tắc giảm hạng thành công"))}))},createData:function(){var t=this;this.current.status=1,this.current.createdBy="Tung_NT",console.log(this.current),h(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?t.$parent.activeRankUp():2===e.data.type&&t.$parent.activeRankDown(),t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))},updateData:function(){var t=this;3===this.current.status?(this.current.status=4,d(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?t.$parent.activeRankUp():2===e.data.type&&t.$parent.activeRankDown(),t.notifySuccess("Thông tin",e.message)}))):d(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?t.$parent.activeRankUp():2===e.data.type&&t.$parent.activeRankDown(),t.notifySuccess("Thông tin",e.message)}))},approveData:function(){var t=this;this.current.status=5,d(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?(t.$parent.activeRankUp(),t.notifySuccess("Thông tin","Phê duyệt quy tắc tăng hạng thành công")):2===e.data.type&&(t.$parent.activeRankDown(),t.notifySuccess("Thông tin","Phê duyệt quy tắc giảm hạng thành công"))}))},handleRejectFrontEnd:function(){this.flag=!0},rejectData:function(){var t=this;this.current.status=3,d(this.current).then((function(e){t.$emit("update:dialogFormVisible",!1),1===e.data.type?(t.$parent.activeRankUp(),t.notifySuccess("Thông tin","Phê duyệt quy tắc tăng hạng thành công")):2===e.data.type&&(t.$parent.activeRankDown(),t.notifySuccess("Thông tin","Phê duyệt quy tắc giảm hạng thành công"))}))},renderTitle:function(){return"rankUp"===this.title&&"create"===this.dialogStatus?"Thêm mới quy tắc tăng hạng":"rankDown"===this.title&&"create"===this.dialogStatus?"Thêm mới quy tắc giảm hạng":"rankUp"===this.title&&"update"===this.dialogStatus?"Chỉnh sửa quy tắc tăng hạng":"rankDown"===this.title&&"update"===this.dialogStatus?"Chỉnh sửa quy tắc giảm hạng":"rankUp"===this.title&&"approve"===this.dialogStatus?"Phê duyệt quy tắc tăng hạng":"rankDown"===this.title&&"approve"===this.dialogStatus?"Phê duyệt quy tắc giảm hạng":"rankUp"===this.title&&"view"===this.dialogStatus?"Xem thông tin quy tắc tăng hạng":"rankDown"===this.title&&"view"===this.dialogStatus?"Xem thông tin quy tắc giảm hạng":void 0}}},S=R,T=(n("a1c8"),Object(v["a"])(S,k,C,!1,null,"7227da02",null)),D=T.exports,j=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(n){var i=n.handleSubmit;return[e("el-dialog",{attrs:{visible:t.dialogImportVisible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.dialogImportVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("el-form",{ref:"dataForm",attrs:{"label-position":"left","label-width":"70px"}},[e("ValidationProvider",{ref:"file",attrs:{name:"file",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(n){var i=n.errors;return[e("el-form-item",{attrs:{prop:"file",error:t.messageError(t.economic_sbvFields.file,i[0])}},[e("div",{staticStyle:{display:"flex"}},[e("label",{staticStyle:{width:"100px"},attrs:{for:"excel"}},[t._v("Tải tệp lên"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{ref:"excel-upload-input",staticClass:"form-control custom-file-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:t.selected}})])])]}}],null,!0)})],1),e("div",{staticStyle:{"margin-left":"70px"}},[e("span",[t._v("Tải file mẫu ")]),t._v(" "),e("a",{staticStyle:{"margin-top":"-4px",color:"blue"},attrs:{href:"#",role:"button"},on:{click:t.handleExport_Example}},[t._v("tại đây")]),t.validRequest<t.totalRequest?e("div",{staticClass:"box_import",staticStyle:{"text-align":"center"}},[e("span",{staticStyle:{color:"red"}},[t._v("Tổng số bản ghi hợp lệ "+t._s(t.validRequest)+" / "+t._s(t.totalRequest)+". Vui lòng tải kết quả và import lại danh sách đúng ")])]):t._e()]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("Đóng")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return i(t.importData)}}},[t._v("Lưu")]),t.validRequest<t.totalRequest?e("el-button",{attrs:{type:"success",plain:""},on:{click:t.handleExport_ResImport}},[t._v("Tải xuống")]):t._e()],1)],1)]}}])})},O=[],A=n("c7eb"),V=n("1da1"),q=(n("ac1f"),n("00b4"),n("1146")),F=n.n(q),$={name:"ImportRuleChangeRank",components:{ValidationObserver:_["a"],ValidationProvider:_["b"]},mixins:[w["a"],o["a"]],props:{dialogImportVisible:{type:Boolean,default:!1},type:{type:Number,default:null}},data:function(){return{loading:!1,excelData:{header:null,results:{onsuccess:!1,num_success:null,total:null}},result_import:[],validRequest:null,totalRequest:null,exampleDataExport:[{index:0,content:"CONTENT_EXAMPLE_01"},{index:1,content:"CONTENT_EXAMPLE_02"},{index:2,content:"CONTENT_EXAMPLE_03"}]}},methods:{renderTitle:function(){return 1===this.type?"Import quy tắc tăng hạng":2===this.type?"Import quy tắc giảm hạng":void 0},selected:function(t){var e=this;return Object(V["a"])(Object(A["a"])().mark((function n(){var i;return Object(A["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.target.files,n.next=3,e.$refs.file.validate(i);case 3:case"end":return n.stop()}}),n)})))()},isExcel:function(t){return/\.(xlsx|xls)$/.test(t.name)},doneImport:function(){this.excelData.results.onsuccess=!0},closeDialog:function(){this.$emit("update:dialogImportVisible",!1)},importData:function(){var t=this,e=this.$refs["excel-upload-input"].files,n=e[0];n&&this.upload(n).then((function(e){if(null!==e&&void 0!==e&&e.length>0)for(var n=0;n<e.length;n++)e[n].type=t.type;p(e).then((function(e){t.result_import=e.data.ruleChangeRankImportList,t.validRequest=e.data.validRecord,t.totalRequest=e.data.totalRecord,t.totalRequest===t.validRequest&&(t.notifySuccess("Thông tin","Import thành công"),t.$emit("update:dialogImportVisible",!1),1===t.type?t.$parent.activeRankUp():2===t.type&&t.$parent.activeRankDown())}))}))},beforeUpload:function(t){var e=t.size/1024/1024<1;return!!e||(this.$message({message:"Please do not upload files larger than 1m in size.",type:"warning"}),!1)},handleClick:function(t){var e=t.target.files,n=e[0];n&&this.upload(n)},upload:function(t){return this.$refs["excel-upload-input"].value=null,this.readerData(t)},handleExport_Example:function(){var t=this;this.downloadLoading=!0,Promise.all([n.e("chunk-0d1c46e8"),n.e("chunk-09290bef")]).then(n.bind(null,"4bf8")).then((function(e){var n="";1===t.type?n="Lý do tăng hạng":2===t.type&&(n="Lý do giảm hạng");var i=["STT",n],a=["index","content"],s=t.formatJson(a,t.exampleDataExport),o="Example_File_Import_Rule_Change_Rank",l="xlsx";e.export_json_to_excel({header:i,data:s,filename:o,autoWidth:"true",bookType:l}),t.$notify.success({title:"Success",message:"".concat(o,".").concat(l," tải xuống thành công"),showClose:!1}),t.downloadLoading=!1}))},handleExport_ResImport:function(){var t=this;this.downloadLoading=!0,Promise.all([n.e("chunk-0d1c46e8"),n.e("chunk-09290bef")]).then(n.bind(null,"4bf8")).then((function(e){var n="";1===t.type?n="Lý do tăng hạng":2===t.type&&(n="Lý do giảm hạng");var i=["STT",n,"Kết quả"],a=["index","content","statusCode"],s=t.result_import,o=t.formatJson(a,s),l=t.formatFilenameExport(),r="xlsx";e.export_json_to_excel({header:i,data:o,filename:l,autoWidth:"true",bookType:r}),t.$notify.success({title:"Success",message:"".concat(l,".").concat(r," tải xuống thành công"),showClose:!1}),t.downloadLoading=!1}))},getHeaderRow:function(t){var e,n=[],i=F.a.utils.decode_range(t["!ref"]),a=i.s.r;for(e=i.s.c;e<=i.e.c;++e){var s=t[F.a.utils.encode_cell({c:e,r:a})],o="UNKNOWN "+e;s&&s.t&&(o=F.a.utils.format_cell(s)),n.push(o)}return n},formatJson_Import:function(t,e,n){return e.map((function(e){for(var i=0;i<n.length;i++){var a=t[i],s=n[i];e[a]=e[s],delete e[s]}return e}))},formatJson:function(t,e){var n=this;return e.map((function(e,i){return t.map((function(t){return"index"===t?i+1:"statusCode"===t?n.renderResult(e[t]):e[t]}))}))},renderResult:function(t){if(!t)return"";var e="";if(1===this.type)switch(t){case 1:e="Bản ghi thỏa mãn";break;case 2:e="Lý do tăng hạng không được bỏ trống";break;case 3:e="Lý do tăng hạng bị trùng";break;case 4:e="Lý do tăng hạng đã tồn tại";break}else if(2===this.type)switch(t){case 1:e="Bản ghi thỏa mãn";break;case 2:e="Lý do giảm hạng không được bỏ trống";break;case 3:e="Lý do giảm hạng bị trùng";break;case 4:e="Lý do giảm hạng đã tồn tại";break}return e},formatFilenameExport:function(){var t=new Date;return"".concat(t.getFullYear()).concat(t.getMonth()+1).concat(t.getDate()).concat(t.getHours()).concat(t.getMinutes()).concat(t.getSeconds(),"_nganhKinhTeSBV")},convertObjectKey:function(t,e,n){return e.map((function(e){for(var i=0;i<n.length;i++){var a=t[i],s=n[i];e[a]=e[s],delete e[s],0===i&&delete e[a]}return e}))},readerData:function(t){var e=this;return this.loading=!0,new Promise((function(n,i){var a=new FileReader;a.onload=function(t){var i=t.target.result,a=F.a.read(i,{type:"array"}),s=a.SheetNames[0],o=a.Sheets[s],l=e.getHeaderRow(o),r=["id","content"],c=F.a.utils.sheet_to_json(o),u=e.convertObjectKey(r,c,l);e.loading=!1,n(u)},a.readAsArrayBuffer(t)}))}}},L=$,N=(n("b9e3"),Object(v["a"])(L,j,O,!1,null,"2f441b54",null)),M=N.exports,E=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogReviewVisible,"before-close":t.closeDialog,center:!0,width:"50%","show-close":!1},on:{"update:visible":function(e){t.dialogReviewVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("div",{staticClass:"text-center"},[e("h5",{staticClass:"text-danger"},[t._v(t._s(t.renderContent()))])]),e("div",{staticClass:"dialog-footer mt-5",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("Đóng")]),"reviewlist"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.reviewData}},[t._v("Đồng ý")]):t._e(),"acceptlist"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.acceptData}},[t._v("Đồng ý")]):t._e()],1)])},P=[],B={name:"ReviewRuleChangeRank",mixins:[o["a"]],props:{dialogReviewVisible:{type:Boolean,default:!1},list:{type:Array,default:null},title:{type:String,default:null},type:{type:Number,default:null}},methods:{renderTitle:function(){return"reviewlist"===this.title&&1===this.type?"Trình duyệt quy tắc tăng hạng":"reviewlist"===this.title&&2===this.type?"Trình duyệt quy tắc giảm hạng":"acceptlist"===this.title&&1===this.type?"Phê duyệt quy tắc tăng hạng":"acceptlist"===this.title&&2===this.type?"Phê duyệt quy tắc giảm hạng":void 0},renderContent:function(){return"reviewlist"===this.title&&1===this.type?"Bạn có chắc chắn muốn Trình duyệt (những) quy tắc tăng hạng này không ?":"reviewlist"===this.title&&2===this.type?"Bạn có chắc chắn muốn Trình duyệt (những) quy tắc giảm hạng này không ?":"acceptlist"===this.title&&1===this.type?"Bạn có chắc chắn muốn Phê duyệt (những) quy tắc tăng hạng này không ?":"acceptlist"===this.title&&2===this.type?"Bạn có chắc chắn muốn Phê duyệt (những) quy tắc giảm hạng này không ?":void 0},closeDialog:function(){this.$emit("update:dialogReviewVisible",!1)},reviewData:function(){var t=this;this.list.length>0?this.list.forEach((function(e){e.status=2,d(e).then((function(e){t.$emit("update:dialogReviewVisible",!1),t.$parent.economicSBVSelected=[],1===t.type?(t.$parent.activeRankUp(),t.notifySuccess("Thông tin","Trình duyệt quy tắc tăng hạng thành công")):2===t.type&&(t.$parent.activeRankDown(),t.notifySuccess("Thông tin","Trình duyệt quy tắc giảm hạng thành công"))}))})):this.notifyError("Thông tin","Vui lòng chọn quy tắc cần trình duyệt")},acceptData:function(){var t=this;this.list.forEach((function(e){e.status=6,console.log(e),d(e).then((function(e){t.$emit("update:dialogReviewVisible",!1),t.$parent.economicSBVSelected=[],t.$parent.getList(),t.notifySuccess("Thông tin",e.message)}))}))}}},Y=B,I=(n("a09a"),Object(v["a"])(Y,E,P,!1,null,"1b44e4ac",null)),H=I.exports,U={name:"RuleChangeRankList",components:{DeleteRuleChangeRank:y,ModifyRuleChangeRank:D,ImportRuleChangeRank:M,ReviewRuleChangeRank:H},directives:{waves:s["a"]},mixins:[o["a"]],data:function(){return{tableKey:0,list:null,listLoading:!0,status:null,isAdmin:!1,dialogFormVisible:!1,dialogStatus:"",dialogFormUpdateVisible:!1,dialogImportVisible:!1,dialogDeleteVisible:!1,dialogReviewVisible:!1,searchObj:{type:1,content:null,status:0,pageSize:10,pageIndex:0},isCheckAll:!1,title:null,flagReject:!1,currentObj:{id:null,content:null,status:null,type:null,createdBy:null,requestChange:null},indexRow:null,downloadLoading:!1,ruleChangeRankSelected:[]}},created:function(){this.getStatus(),this.getList()},methods:{selectRuleChangeRank:function(t){if(this.$refs["checkbox".concat(t.id)].checked){var e={id:t.id,content:t.content,status:t.status,type:t.type,requestChange:t.requestChange,createdBy:t.createdBy};this.ruleChangeRankSelected.push(e),this.isSelectAllRuleChangeRankNeedApprove()&&(this.isCheckAll=!0)}else{var n=this.ruleChangeRankSelected.findIndex((function(e){return e.id===t.id}));this.ruleChangeRankSelected.splice(n,1),this.isCheckAll=!1}},isSelectAllRuleChangeRankNeedApprove:function(){var t=this;if(this.isAdmin){var e=this.list.filter((function(t){return 3===t.status})),n=0;return e.map((function(e){t.$refs["checkbox".concat(e.id)].checked&&n++})),e.length===n}var i=this.list.filter((function(t){return 1===t.status||2===t.status})),a=0;return i.map((function(e){t.$refs["checkbox".concat(e.id)].checked&&a++})),i.length===a},selectAllRuleChangeRankNeedApprove:function(){var t=this;this.isCheckAll||(this.ruleChangeRankSelected=[]),this.isAdmin?this.list.filter((function(t){return 3===t.status})).map((function(e){if(t.$refs["checkbox".concat(e.id)].checked=t.isCheckAll,t.isCheckAll){var n={id:e.id,content:e.content,status:e.status,type:e.type,requestChange:e.requestChange,createdBy:e.createdBy};t.ruleChangeRankSelected.push(n)}})):this.list.filter((function(t){return 1===t.status||2===t.status})).map((function(e){if(t.$refs["checkbox".concat(e.id)].checked=t.isCheckAll,t.isCheckAll){var n={id:e.id,content:e.content,status:e.status,type:e.type,requestChange:e.requestChange,createdBy:e.createdBy};t.ruleChangeRankSelected.push(n)}}))},handleCurrentChange:function(t){this.pagination.pageNumber=t,1===this.searchObj.type?this.activeRankUp():2===this.searchObj.type&&this.activeRankDown()},handleSizeChange:function(t){this.pagination.pageSize=t,1===this.searchObj.type?this.activeRankUp():2===this.searchObj.type&&this.activeRankDown()},statusFilter:function(t){var e={1:"Tạo mới",2:"Chờ duyệt",3:"Từ chối",4:"Chỉnh sửa",5:"Phê duyệt",6:"Hoạt động",7:"Không hoạt động"};return e[t]},resetSearchObj:function(){this.searchObj={content:null,type:this.type,status:0,pageSize:10,pageIndex:0}},handleCreate:function(){this.dialogStatus="create",this.currentObj={id:null,content:null,status:null,type:null,createdBy:null,requestChange:null},1===this.searchObj.type?(this.title="rankUp",this.currentObj.type=1):(this.title="rankDown",this.currentObj.type=2),this.dialogFormVisible=!0},handleUpdate:function(t,e){this.flagReject=!1,this.dialogStatus="update",this.currentObj=t,1===this.searchObj.type?(this.title="rankUp",this.currentObj.type=1):(this.title="rankDown",this.currentObj.type=2),3===this.currentObj.status?this.flagReject=!0:this.flagReject=!1,this.dialogFormVisible=!0},handleViewDetail:function(t,e){this.flagReject=!1,this.dialogStatus="view",this.currentObj=t,1===this.searchObj.type?(this.title="rankUp",this.currentObj.type=1):(this.title="rankDown",this.currentObj.type=2),3===this.currentObj.status?this.flagReject=!0:this.flagReject=!1,this.dialogFormVisible=!0},handleApprove:function(t,e){this.flagReject=!1,this.dialogStatus="approve",this.currentObj=t,1===this.searchObj.type?(this.title="rankUp",this.currentObj.type=1):(this.title="rankDown",this.currentObj.type=2),this.dialogFormVisible=!0},handleHotChangeActive:function(t,e){1===this.searchObj.type?this.currentObj.type=1:this.currentObj.type=2,this.currentObj=t,this.title="hotchange",this.dialogDeleteVisible=!0},handleDelete:function(t,e){this.indexRow=e,this.currentObj=t,1===this.searchObj.type?this.currentObj.type=1:this.currentObj.type=2,this.title="delete",this.dialogDeleteVisible=!0},handleImport:function(){this.dialogImportVisible=!0},handleExport:function(){var t=this;this.downloadLoading=!0,Promise.all([n.e("chunk-0d1c46e8"),n.e("chunk-09290bef")]).then(n.bind(null,"4bf8")).then((function(e){var n="";1===t.searchObj.type?n="Lý do tăng hạng":2===t.searchObj.type&&(n="Lý do giảm hạng");var i=["STT",n],a=["index","content"],s=t.formatJson(a,t.list),o=t.formatFilenameExport(),l="xlsx";e.export_json_to_excel({header:i,data:s,filename:o,autoWidth:"true",bookType:l}),t.$notify.success({title:"Success",message:"".concat(o,".").concat(l," tải xuống thành công"),showClose:!1}),t.downloadLoading=!1}))},formatJson:function(t,e){var n=this;return e.map((function(e,i){return t.map((function(t){return"index"===t?i+1:"status_import"===t?n.renderResult(e[t]):e[t]}))}))},formatFilenameExport:function(){var t=new Date;return"".concat(t.getFullYear()).concat(t.getMonth()+1).concat(t.getDate()).concat(t.getHours()).concat(t.getMinutes()).concat(t.getSeconds(),"_nganhKinhTeSBV")},handleReview:function(){this.title="reviewlist",this.dialogReviewVisible=!0},handleAcceptList:function(){this.title="acceptlist",this.dialogReviewVisible=!0},handleSearch:function(){this.getList()},resetListChecked:function(){this.listChecked={}},renderCheckAll:function(){var t=this;this.isCheckAll=!this.isCheckAll,this.list.forEach((function(e,n){t.$refs["checkbox".concat(n)].checked=t.isCheckAll}))},getStatus:function(){this.status=[{id:0,name:"Tất cả"},{id:1,name:"Tạo mới"},{id:2,name:"Chờ duyệt"},{id:3,name:"Từ chối"},{id:4,name:"Chỉnh sửa"},{id:5,name:"Phê duyệt"},{id:6,name:"Hoạt động"},{id:7,name:"Không hoạt động"}]},getList:function(){var t=this;this.searchObj.pageIndex=this.pagination.pageNumber,this.searchObj.pageSize=this.pagination.pageSize,this.listLoading=!0,u(this.searchObj).then((function(e){t.list=e.data.result,t.pagination={pageNumber:e.data.pageNumber,pageSize:e.data.pageSize,totalItems:e.data.totalItems,totalPages:e.data.totalPages}})),setTimeout((function(){t.listLoading=!1}),1e3)},activeRankDown:function(){this.searchObj.type=2,this.getList()},activeRankUp:function(){this.searchObj.type=1,this.getList()}}},z=U,K=(n("6dfd"),Object(v["a"])(z,i,a,!1,null,null,null));e["default"]=K.exports}}]);