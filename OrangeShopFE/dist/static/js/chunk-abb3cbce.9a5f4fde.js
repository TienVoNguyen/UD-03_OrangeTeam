(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-abb3cbce"],{"0537":function(t,n,e){"use strict";e("9dcc")},"210b":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t._self._c;return n("div",[n("FunctionTree")],1)},o=[],s=(e("b0c0"),function(){var t=this,n=t._self._c;return n("div",{staticClass:"custom-tree-container app-container"},[n("el-card",{staticClass:"box-card app-container"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("h5",[t._v(" Quản lý chức năng hệ thống "),t.hasPermission(t.$options.name,"function.insert")?n("el-button",{staticClass:"button-custom",staticStyle:{float:"right"},attrs:{icon:"el-icon-plus",size:"small",type:"primary"},on:{click:function(n){return t.showDialog(null,"create")}}},[t._v("Thêm mới")]):t._e(),n("modify-dialog",{attrs:{id:t.id,"parent-id":t.parentId,"show-dialog":t.isShowDialog},on:{hideDialog:t.hideDialog,modifySuccess:t.getFunctions}})],1)]),n("el-tree",{attrs:{data:t.functions,"node-key":"id","default-expand-all":"","expand-on-click-node":!1},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,o=e.data;return n("span",{staticClass:"custom-tree-node"},[n("span",{class:0==o.status?"text-red":"text-primary"},[n("svg-icon",{attrs:{"icon-class":o.icon?o.icon:"","class-name":"disabled"}}),t._v("   "+t._s(o.title)+" "+t._s(o.name))],1),n("span",[1===o.isMenuGroup&&t.hasPermission(t.$options.name,"function.insert")?n("el-button",{staticClass:"button-custom",attrs:{size:"small",type:"primary",plain:""},on:{click:function(n){return t.showDialog(o,"create")}}},[t._v(" Thêm ")]):t._e(),null!=o.priority&&t.hasPermission(t.$options.name,"function.update")?n("el-button",{staticClass:"button-custom",attrs:{size:"small",type:"success",plain:""},on:{click:function(n){return t.showDialog(o,"update")}}},[t._v(" Sửa ")]):t._e(),null!=o.priority&&t.hasPermission(t.$options.name,"function.delete")&&t.hasPermission(t.$options.name,"function.action.delete")?n("el-button",{staticClass:"button-custom",attrs:{type:"danger",size:"small",plain:""},on:{click:function(){return t.remove(i,o)}}},[t._v(" Xoá ")]):t._e()],1)])}}])})],1)],1)}),a=[],c=e("b85c"),r=e("c7eb"),l=e("1da1"),u=(e("99af"),e("6e35")),d=e("391d"),h=(e("a4d3"),e("e01a"),function(){var t=this,n=t._self._c;return n("div",[n("el-dialog",{attrs:{fullscreen:"",title:"Thêm mới chức năng",visible:t.showDialog},on:{"update:visible":function(n){t.showDialog=n}}},[n("ValidationObserver",{ref:"createUpdateFunction",scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[n("el-form",{staticClass:"form-container",attrs:{model:t.functions}},[n("h5",{staticClass:"text-primary"},[t._v("1. Định nghĩa chức năng ")]),n("el-row",{staticClass:"pb-3"},[n("el-col",{attrs:{span:12}},[n("ValidationProvider",{attrs:{name:"title",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("el-form-item",{attrs:{prop:"title",error:t.messageError(t.functionsName.title,i[0])}},[n("label",[t._v("Tiêu đề"),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("br"),n("el-input",{ref:"title",staticClass:"w-90",attrs:{placeholder:"Nhập tiêu đề",maxlength:"100","show-word-limit":""},model:{value:t.functions.title,callback:function(n){t.$set(t.functions,"title",n)},expression:"functions.title"}})],1)]}}],null,!0)})],1),n("el-col",{attrs:{span:12}},[n("ValidationProvider",{attrs:{name:"path",rules:t.functions.isMenuGroup?"":"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("el-form-item",{attrs:{prop:"path",error:t.messageError(t.functionsName.path,i[0])}},[n("label",[t._v("Path"),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("el-input",{ref:"path",staticClass:"w-full",attrs:{disabled:t.functions.isMenuGroup,placeholder:"Nhập path",maxlength:"50","show-word-limit":""},model:{value:t.functions.path,callback:function(n){t.$set(t.functions,"path",n)},expression:"functions.path"}})],1)]}}],null,!0)})],1)],1),n("el-row",{staticClass:"pb-3"},[n("el-col",{attrs:{span:12}},[n("el-form-item",[n("label",[t._v("Menu nhóm")]),n("br"),n("el-switch",{attrs:{disabled:!t.isAddNew},model:{value:t.functions.isMenuGroup,callback:function(n){t.$set(t.functions,"isMenuGroup",n)},expression:"functions.isMenuGroup"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("label",[t._v("Không hiển thị")]),n("br"),n("el-switch",{model:{value:t.functions.isDisplayed,callback:function(n){t.$set(t.functions,"isDisplayed",n)},expression:"functions.isDisplayed"}})],1)],1)],1),n("el-row",{staticClass:"pb-3"},[n("el-col",{attrs:{span:12}},[n("ValidationProvider",{attrs:{name:"icon",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("el-form-item",{attrs:{prop:"icon",error:t.messageError(t.functionsName.icon,i[0])}},[n("label",[t._v("Icon"),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("br"),n("el-input",{ref:"icon",staticClass:"w-90",attrs:{placeholder:"Nhập mã icon",maxlength:"50","show-word-limit":""},model:{value:t.functions.icon,callback:function(n){t.$set(t.functions,"icon",n)},expression:"functions.icon"}})],1)]}}],null,!0)})],1),n("el-col",{attrs:{span:12}},[n("el-form-item",[n("label",[t._v("Trạng thái"),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("br"),n("el-switch",{model:{value:t.functions.status,callback:function(n){t.$set(t.functions,"status",n)},expression:"functions.status"}}),t._v("     "),n("span",{class:t.functions.status?"text-primary":"text-danger"},[t._v(t._s(t.convertTextStatus(t.functions.status)))])],1)],1)],1),n("el-row",{staticClass:"pb-3"},[n("el-col",{attrs:{span:12}},[n("ValidationProvider",{attrs:{rules:t.functions.isMenuGroup?"":"required",name:"component"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("el-form-item",{attrs:{prop:"component",error:t.messageError(t.functionsName.component,i[0])}},[n("label",[t._v("Mã màn hình "),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("br"),n("el-input",{ref:"component",staticClass:"w-90",attrs:{disabled:t.functions.isMenuGroup,placeholder:"Nhập tên mã màn hình",maxlength:"50","show-word-limit":""},model:{value:t.functions.component,callback:function(n){t.$set(t.functions,"component",n)},expression:"functions.component"}})],1)]}}],null,!0)})],1),n("el-col",{attrs:{span:12}},[n("ValidationProvider",{attrs:{name:"priority",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[n("el-form-item",{attrs:{prop:"priority",error:t.messageError(t.functionsName.priority,i[0])}},[n("label",[t._v("Thứ tự "),n("span",{staticClass:"text-danger"},[t._v(" * ")])]),n("br"),n("el-input",{ref:"priority",staticClass:"w-full",attrs:{placeholder:"Nhập số thứ tự chức năng",oninput:"this.value = this.value.replace(/[^0-9]/g, '').replace(/(\\..*?)\\..*/g, '$1');"},model:{value:t.functions.priority,callback:function(n){t.$set(t.functions,"priority",n)},expression:"functions.priority"}})],1)]}}],null,!0)})],1)],1),n("el-row",{staticClass:"pb-3"},[n("el-col",{attrs:{span:24}},[n("el-form-item",[n("label",[t._v("Mô tả")]),n("el-input",{staticClass:"w-full",attrs:{type:"textarea",autosize:{minRows:4,maxRows:10},placeholder:"Nhập mô tả",maxlength:"500","show-word-limit":""},model:{value:t.functions.description,callback:function(n){t.$set(t.functions,"description",n)},expression:"functions.description"}})],1)],1)],1),t.functions.isMenuGroup?t._e():n("el-row",[n("list-action-apis",{attrs:{"is-get-action":t.isGetActions,actions:t.actions},on:{genAction:t.pushActionsToFucntions}})],1),n("el-row",[n("el-form-item",{staticClass:"dialog-footer pr-1-5"},[n("el-button",{attrs:{plain:"",type:"danger"},on:{click:t.hideDialog}},[t._v("Đóng")]),n("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(n){return i(t.save)}}},[t._v("Đồng ý")])],1)],1)],1)]}}])})],1)],1)}),p=[],f=(e("a9e3"),e("7bb1")),m=e("3081"),g=function(){var t=this,n=t._self._c;return n("div",[n("hr"),n("div",{staticClass:"mt-2 mb-2"},[n("h5",{staticClass:"text-primary mb-3"},[t._v(" 2. Khai báo thao tác "),n("el-button",{staticClass:"button-custom",staticStyle:{float:"right"},attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(n){return t.addNewAction()}}},[t._v("Thêm mới")])],1)]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.actions,border:"","max-height":"300"}},[n("el-table-column",{attrs:{label:"STT",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v(" "+t._s(n.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"Mã thao tác"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"w-full",attrs:{maxlength:"50","show-word-limit":""},model:{value:e.row.code,callback:function(n){t.$set(e.row,"code",n)},expression:"scope.row.code"}}),null!==t.validateActionCode(e.row,e.$index)?n("p",{staticClass:"text-danger",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.validateActionCode(e.row,e.$index))+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"Tên thao tác"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"w-full",attrs:{maxlength:"100","show-word-limit":""},model:{value:e.row.name,callback:function(n){t.$set(e.row,"name",n)},expression:"scope.row.name"}})]}}])}),n("el-table-column",{attrs:{label:"mô tả"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"w-full",attrs:{maxlength:"500","show-word-limit":""},model:{value:e.row.description,callback:function(n){t.$set(e.row,"description",n)},expression:"scope.row.description"}})]}}])}),n("el-table-column",{attrs:{label:"Thao tác",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Thêm mới chi tiết thao tác",placement:"bottom"}},[null===t.validateActionCode(e.row,e.$index)?n("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(n){return t.handleAddActionApis(e.$index,e.row)}}},[n("i",{staticClass:"el-icon-plus"})]):t._e()],1),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Xoá thao tác",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[n("i",{staticClass:"el-icon-delete"})])],1)]}}])}),n("el-dialog",{attrs:{title:"Thao tác chi tiết",visible:t.showDialogApis,"before-close":t.handleClose,"append-to-body":""},on:{"update:visible":function(n){t.showDialogApis=n}}},[n("el-button",{staticClass:"button-custom mb-3",staticStyle:{float:"left"},attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(n){return t.addNewActionApis()}}},[t._v("Thêm mới")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.listApi,border:"","max-height":"500"}},[n("el-table-column",{attrs:{label:"STT",width:"50",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(n){return[t._v(" "+t._s(n.$index+1)+" ")]}}])}),n("el-table-column",{attrs:{label:"Mã thao tác chi tiết"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-input",{staticClass:"w-full",attrs:{maxlength:"50","show-word-limit":""},model:{value:e.row.apiCode,callback:function(n){t.$set(e.row,"apiCode",n)},expression:"scope.row.apiCode"}}),null!==t.validateActionCodeApis(e.row,e.$index)?n("p",{staticClass:"text-danger",staticStyle:{"font-size":"12px"}},[t._v(" "+t._s(t.validateActionCodeApis(e.row,e.$index))+" ")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"Phương thức api"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-select",{staticClass:"w-full",attrs:{placeholder:"Select"},model:{value:e.row.apiMethod,callback:function(n){t.$set(e.row,"apiMethod",n)},expression:"scope.row.apiMethod"}},t._l(t.options,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)]}}])}),n("el-table-column",{attrs:{label:"Thao tác",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Xoá thao tác chi tiết",placement:"bottom"}},[n("el-button",{attrs:{size:"mini",type:"danger",plain:""},on:{click:function(n){return t.handleDeleteApis(e.$index,e.row)}}},[n("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{plain:"",type:"danger"},on:{click:function(n){return t.hideDialogApis()}}},[t._v("Đóng")]),n("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(n){return t.handleSubmitActionApis()}}},[t._v("Lưu")])],1)],1)],1)],1)},b=[],v=(e("a434"),e("c740"),{name:"ActionApis",mixins:[d["a"]],props:{isGetActions:{type:Boolean,default:!1},actions:{type:Array,default:function(){return[]}}},data:function(){return{action:{id:null,code:null,description:null,functionId:null,listApi:[]},listApi:[],api:{apiCode:null,apiMethod:null},showDialogApis:!1,actionCode:null,isDoneApis:!0,isDoneAction:!0,options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"PUT",label:"PUT"},{value:"DELETE",label:"DELETE"}]}},watch:{},created:function(){},methods:{handleClose:function(){},handleDelete:function(t,n){var e=this;this.$confirm("Bạn có chắc chắn muốn xoá bản ghi này không?","Cảnh báo",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning",center:!0}).then((function(){e.deleteAction(t,n)})).catch((function(t){}))},handleAddActionApis:function(t,n){this.listApi=null===n.listApi||void 0===n.listApi?[]:n.listApi,this.showDialogApis=!0,this.actionCode=n.code},deleteAction:function(t,n){var e=this;return Object(l["a"])(Object(r["a"])().mark((function i(){var o;return Object(r["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(null!==n.id){i.next=4;break}e.actions.splice(t,1),i.next=8;break;case 4:return i.next=6,u["b"](n.id);case 6:o=i.sent,200===o.code&&(e.actions.splice(t,1),e.hideDialog());case 8:case"end":return i.stop()}}),i)})))()},handleDeleteApis:function(t,n){var e=this;this.$confirm("Bạn có chắc chắn muốn xoá bản ghi này không?","Cảnh báo",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning",center:!0}).then((function(){e.listApi.splice(t,1),e.notifySuccess("Thông báo","Xoá thành công")})).catch((function(t){}))},hideDialogApis:function(){this.showDialogApis=!1},addNewAction:function(){this.action={id:null,code:null,description:null,functionId:null},this.actions.push(this.action)},addNewActionApis:function(){this.api={apiCode:null,apiMethod:null},this.listApi.push(this.api)},validateActionCode:function(t,n){if(this.isDoneAction=!0,null===t.code||""===t.code)return this.isDoneAction=!1,"Mã thao tác không được bỏ trống";if(this.actions.length>1)for(var e=this.actions,i=0;i<e.length;i++)if(t.code===e[i].code&&i!==n)return this.isDoneAction=!1,"Mã thao tác bị trùng";return null},validateActionCodeApis:function(t,n){if(this.isDoneApis=!0,null===t.apiCode||""===t.apiCode)return this.isDoneApis=!1,"Mã thao tác chi tiết không được bỏ trống";if(this.listApi.length>1)for(var e=this.listApi,i=0;i<e.length;i++)if(t.apiCode===e[i].apiCode&&i!==n)return this.isDoneApis=!1,"Mã thao tác chi tiết bị trùng";return null},handleSubmitActionApis:function(){var t=this;if(this.isDoneApis){var n=this.actions.findIndex((function(n){return n.code===t.actionCode}));this.actions[n].listApi=this.listApi,this.$emit("genAction",this.actions),this.notifySuccess("Thông báo","Thêm thành công api"),this.hideDialogApis()}}}}),y=v,w=e("2877"),C=Object(w["a"])(y,g,b,!1,null,null,null),x=C.exports,T={name:"CreateFunction",components:{ValidationObserver:f["a"],ValidationProvider:f["b"],ListActionApis:x},mixins:[m["a"],d["a"]],props:{showDialog:{type:Boolean,default:!1},id:{type:Number,default:null},parentId:{type:Number,default:null}},data:function(){return{functions:{id:null,title:null,description:null,path:null,parentId:null,isMenuGroup:!0,isDisplayed:!1,status:!0,priority:null,icon:null,component:null,isDeleted:0,actions:[]},actions:[],isGetActions:!1,isAddNew:!0}},watch:{showDialog:{handler:function(t){t?this.directInsertOrUpdate():this.hideDialog()}}},created:function(){},methods:{pushActionsToFucntions:function(t){this.functions.actions=t},directInsertOrUpdate:function(){null==this.id?this.isShowAddNew():this.isShowEdit()},isShowAddNew:function(){this.actions=[],this.functions={id:null,title:null,description:null,path:null,parentId:null,isMenuGroup:!0,isDisplayed:!1,status:!0,priority:null,icon:null,component:null,isDeleted:0,actions:[]},this.isAddNew=!0},isShowEdit:function(){this.getFunctionAction(),this.isAddNew=!1},getFunctionAction:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function n(){var e;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,u["c"](t.id);case 2:e=n.sent,200===e.code&&(t.functions=t.mapResponse(e.data),t.actions=e.data.actions,t.isGetActions=!0,t.notifyInfo("Thông tin",e.message));case 4:case"end":return n.stop()}}),n)})))()},mapResponse:function(t){var n={id:t.id,title:t.title,description:t.description,path:t.path,parentId:t.parentId,isMenuGroup:1===t.isMenuGroup,isDisplayed:0!==t.isDisplayed,status:1===t.status,priority:t.priority,icon:t.icon,component:t.component,isDeleted:t.isDeleted,actions:t.actions};return n},hideDialog:function(){var t=this;this.$nextTick((function(){t.$refs.createUpdateFunction.reset()})),this.parentId=null,this.$emit("hideDialog",!1)},convertTextStatus:function(t){return t?"Hoạt động":"Không hoạt động"},save:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function n(){var e,i,o,s,a;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.functions.isMenuGroup){n.next=21;break}if(0!==t.actions.length){n.next=6;break}return t.notifyWarning("Cảnh báo","Yêu cầu khai báo thao tác"),n.abrupt("return");case 6:e=0;case 7:if(!(e<t.actions.length)){n.next=21;break}if(n.prev=8,0!==t.actions[e].listApi.length){n.next=12;break}return t.notifyWarning("Cảnh báo","Yêu cầu khai báo thao tác chi tiết với mã thao tác là:"+t.actions[e].code),n.abrupt("return");case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n["catch"](8),null===t.actions[e].code?t.notifyWarning("Cảnh báo","Yêu cầu khai báo thao tác"):t.notifyWarning("Cảnh báo","Yêu cầu khai báo thao tác chi tiết với mã thao tác là:"+t.actions[e].code),n.abrupt("return");case 18:e++,n.next=7;break;case 21:if(!t.isAddNew){n.next=29;break}return i=t.mapFunctionRequest(),n.next=25,u["e"](i);case 25:o=n.sent,200===o.code&&(t.notifySuccess("Thông báo",o.message),t.$emit("modifySuccess",!0),t.hideDialog()),n.next=34;break;case 29:return s=t.mapFunctionRequestForUpdate(),n.next=32,u["f"](t.functions.id,s);case 32:a=n.sent,200===a.code&&(t.notifySuccess("Thông báo",a.message),t.$emit("modifySuccess",!0),t.hideDialog());case 34:case"end":return n.stop()}}),n,null,[[8,14]])})))()},mapFunctionRequest:function(){var t={title:this.functions.title,description:this.functions.description,path:this.functions.path,parentId:this.parentId,isDisplayed:!0===this.functions.isDisplayed?1:0,isMenuGroup:!0===this.functions.isMenuGroup?1:0,status:!0===this.functions.status?1:0,priority:this.functions.priority,icon:this.functions.icon,component:this.functions.component,isDeleted:this.functions.isDeleted,actions:this.functions.actions};return t},mapFunctionRequestForUpdate:function(){var t={title:this.functions.title,description:this.functions.description,path:this.functions.path,isMenuGroup:!0===this.functions.isMenuGroup?1:0,isDisplayed:!0===this.functions.isDisplayed?1:0,status:!0===this.functions.status?1:0,priority:this.functions.priority,icon:this.functions.icon,component:this.functions.component,isDeleted:this.functions.isDeleted,actions:this.functions.actions};return t}}},k=T,D=(e("0537"),Object(w["a"])(k,h,p,!1,null,"2c10be56",null)),A=D.exports,_={name:"Function",components:{ModifyDialog:A},mixins:[d["a"]],data:function(){return{functions:[],isShowDialog:!1,id:null,parentId:null}},created:function(){this.getFunctions()},methods:{showDialog:function(t,n){"create"===n?this.parentId=null==t?null:t.id:"update"===n?this.id=t.id:this.notifyError("Lỗi","Không xác định được chức năng"),this.isShowDialog=!0},hideDialog:function(t){this.id=null,this.parentId=null,this.isShowDialog=t},getFunctions:function(){var t=this;return Object(l["a"])(Object(r["a"])().mark((function n(){var e,i;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.showLoading(),e={},n.next=4,u["d"](e);case 4:i=n.sent,200===i.code&&(t.functions=t.generateTreeMenu(i.data),t.notifyInfo("Thông tin",i.message),console.log(t.functions)),t.hideLoading();case 7:case"end":return n.stop()}}),n)})))()},remove:function(t,n){var e=this;this.$confirm("Bạn có chắc chắn muốn xoá bản ghi này không?","Cảnh báo",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning",center:!0}).then(Object(l["a"])(Object(r["a"])().mark((function t(){var i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"](n.id);case 2:i=t.sent,200===i.code&&(e.notifyInfo("Thông tin",i.message),e.getFunctions());case 4:case"end":return t.stop()}}),t)})))).catch((function(t){}))},generateTreeMenu:function(t){var n,e={},i=[],o=Object(c["a"])(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.children=[],e[null===s||void 0===s?void 0:s.id]=s,s.actions&&0!==s.actions.length&&(s.children=s.children.concat(s.actions))}}catch(u){o.e(u)}finally{o.f()}var a,r=Object(c["a"])(t);try{for(r.s();!(a=r.n()).done;){var l=a.value;l.parentId?e[l.parentId].children.push(l):i.push(l)}}catch(u){r.e(u)}finally{r.f()}return i}}},M=_,S=(e("54ab"),Object(w["a"])(M,s,a,!1,null,null,null)),F=S.exports,$={name:"SysFuntion",components:{FunctionTree:F},data:function(){return{}},created:function(){},methods:{}},O=$,j=Object(w["a"])(O,i,o,!1,null,null,null);n["default"]=j.exports},3081:function(t,n,e){"use strict";var i=e("5530"),o=(e("d3b7"),e("25f0"),e("4c93")),s=e("7bb1");Object(s["c"])("required",Object(i["a"])(Object(i["a"])({},o["c"]),{},{message:" bắt buộc nhập"})),Object(s["c"])("requiredSelect",Object(i["a"])(Object(i["a"])({},o["c"]),{},{message:" bắt buộc chọn"})),Object(s["c"])("ext",Object(i["a"])(Object(i["a"])({},o["a"]),{},{message:" không đúng định dạng"})),Object(s["c"])("regex",Object(i["a"])(Object(i["a"])({},o["b"]),{},{message:" không đúng định dạng"})),Object(s["c"])("max",{validate:function(t,n){return t.toString().length<=n.length},params:["length"],message:" không vượt quá {length} ký tự"}),Object(s["c"])("isLower",{params:["target"],validate:function(t,n){var e=n.target;return!e||+t<+e},message:" phải nhỏ hơn chặn trên"}),n["a"]={data:function(){return{loginFields:{username:"Tên đăng nhập",password:"Mật khẩu"},approverFields:{unit:"Đơn vị",position:"Chức vụ",approver:"Họ và tên"},scorePeriodFields:{name:"Kỳ chấm điểm"},lendingFields:{type:"Loại chấm điểm",name:"Loại hình chấm điểm"},systemFields:{dept1:"Đơn vị",dept1_type:"Loại đơn vị",dept2:"Phòng ban",side:"Miền",name:"Tên",status:"Trạng thái",code:"Mã",position:"Chức vụ",file:"File"},customer_identificationFields:{code_tax:"Mã số thuế",code_reg:"Mã số đăng ký kinh doanh",name_dn:"Tên doanh nghiệp",name_dept:"Tên đơn vị quản lý",code_dept:"Mã đơn vị quản lý"},rank_adjustFields:{rule_change:"Quy tắc điều chỉnh",cause_change:"Nguyên nhân điều chỉnh",reason_change:"Lý do điều chỉnh"},functionsName:{title:"Tiêu đề",path:"Path",icon:"Icon",component:"Mã màn hình",priority:"Thứ tự"},economic_sbvFields:{codeSBV:"Mã ngành kinh tế SBV",nameSBV:"Tên ngành kinh tế SBV",requestChange:"Yêu cầu điều chỉnh",file:"File"},groupFCCFields:{code:"Mã ngành kinh tế FCC",name:"Tên ngành kinh tế FCC",sbv:"Ngành kinh tế SBV",css:"Nhóm ngành"},groupFCCImportFields:{file:"File"},matrixClassifyFields:{nameMatrix:"Tên ma trận",rules:"Loại quy tắc phân loại quy mô",tpBankRule:"Quy tắc phân loại TPBank",pointRule:"Quy tắc phân loại theo điểm chỉ tiêu",establishMatrix:"Thiết lập ma trận",requestChangeMatrix:"Lý do từ chối"},tpBankRuleFields:{name:"Tên quy tắc",unit:"Đơn vị báo cáo tài chính",sales:"Doanh thu",salesCriteria:"Doanh thu - Chọn tiêu chí",equity:"Vốn chủ sở hữu",equityCriteria:"Vốn chủ sở hữu - Chọn tiêu chí",configScalePointList:"Thiết lập điểm quy mô"},salesScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},equityScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},configScalePointFields:{size:"Size",scale:"Quy mô"},branches:{branchCode:"Mã đơn vị",branchCodeNumber:"Mã số đơn vị",branchTypeName:"Loại đơn vị",branchName:"Tên đơn vị",districtName:"Miền"},departments:{branchName:"Tên đơn vị",name:"Tên phòng ban"},positions:{branchName:"Tên đơn vị",name:"Tên chức vụ",departmentName:"Tên phòng ban"},groups:{name:"Tên nhóm",code:"Mã nhóm"},users:{groupName:"Tên nhóm",username:"Tên đăng nhập",name:"Tên nhân viên"},ruleChangeRankFields:{content:"Lý do"},singleScoringModelKHDNFields:{codeModel:"Mã mô hình đơn",nameModel:"Tên mô hình đơn",typeRank:"Loại xếp hạng",scaleClassify:"Phân loại quy mô",industryGroup:"Nhóm ngành",inputModel:"Tên mô hình nhập liệu",typeCode:"Loại code",fileCodeModel:"File code model",fileImport:"File",userCreated:"Người tạo",userApproved:"Người duyệt"},configParameterPropertyFields:{codeProperty:"Mã thuộc tính",nameProperty:"Tên thuộc tính",description:"Mô tả",file:"File"}}},methods:{messageError:function(t,n){if(void 0!==n)return t+n}}}},"391d":function(t,n,e){"use strict";var i=e("b4a5"),o={data:function(){return{loading:null}},methods:{showLoading:function(){var t=this;this.loading=this.$loading({lock:!0,text:"Đang tải"}),setTimeout((function(){t.hideLoading()}),5e4)},hideLoading:function(){this.loading.close()}}},s={data:function(){return{duration:3e3}},methods:{notifySuccess:function(t,n){this.$notify({title:t,message:n,type:"success",duration:this.duration,customClass:"loading-backgroup-success"})},notifyWarning:function(t,n){this.$notify({title:t,message:n,type:"warning",duration:this.duration,customClass:"loading-backgroup-warning"})},notifyInfo:function(t,n){this.$notify({title:t,message:n,type:"info",duration:this.duration,customClass:"loading-backgroup-info"})},notifyError:function(t,n){this.$notify({title:t,message:n,type:"error",duration:this.duration,customClass:"loading-backgroup-error"})}}},a=(e("d3b7"),e("25f0"),{data:function(){return{}},methods:{convertDateToServer:function(t,n){return""===t||void 0===t||null==t?"":this.$moment(t,n).tz(this.$moment.tz.guess(!0)).utc().format()},convertDateToLocal:function(t,n){return""===t||void 0===t||null==t?"":this.$moment.utc(t).parseZone(this.$moment.tz.guess(!0)).local().format(n)},convertDateToLocalUTC:function(t,n){return""===t||void 0===t||null==t?"":this.$moment.utc(t).format(n)},convertDateToAnotherFormat:function(t,n,e){return""===t||void 0===t?"":this.$moment(t,n).format(e)},ConvertTimeRanges:function(t){if(null!=t&&t.toString().length>0){var n=t.split(" to ");return this.TimeRangesModel.from=this.convertDateToAnotherFormat(n[0]+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel.to=this.convertDateToAnotherFormat(n[1]+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel}return this.TimeRangesModel.to=null,this.TimeRangesModel.from=null,this.TimeRangesModel},ConvertTimeFrom:function(t){return this.convertDateToAnotherFormat(t+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeTo:function(t){return this.convertDateToAnotherFormat(t+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeFromToDateJava:function(t){return t+" 00:00:00"},ConvertTimeToToDateJava:function(t){return t+" 23:59:59"}}}),c={methods:{hasPermission:function(t,n){return-1!==this.$store.getters.actions[null===t||void 0===t?void 0:t.toLowerCase()].indexOf(n)}}};n["a"]={mixins:[i["a"],o,s,a,c]}},"54ab":function(t,n,e){"use strict";e("8b28")},"6e35":function(t,n,e){"use strict";e.d(n,"d",(function(){return o})),e.d(n,"c",(function(){return s})),e.d(n,"e",(function(){return a})),e.d(n,"f",(function(){return c})),e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return l}));var i=e("b775");function o(t){return Object(i["a"])({url:"functions",method:"get",params:t})}function s(t){return Object(i["a"])({url:"functions/".concat(t),method:"get"})}function a(t){return Object(i["a"])({url:"function",method:"post",data:t})}function c(t,n){return Object(i["a"])({url:"function/".concat(t),method:"put",data:n})}function r(t){return Object(i["a"])({url:"function/action/".concat(t),method:"delete"})}function l(t){return Object(i["a"])({url:"function/".concat(t),method:"delete"})}},"8b28":function(t,n,e){},"9dcc":function(t,n,e){},b4a5:function(t,n,e){"use strict";n["a"]={data:function(){return{pagination:{pageNumber:1,pageSize:10,totalItems:0,totalPages:0},pageSizes:[10,20,50,100]}},methods:{}}}}]);