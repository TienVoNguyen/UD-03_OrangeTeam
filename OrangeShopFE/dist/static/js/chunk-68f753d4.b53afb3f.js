(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68f753d4"],{"0534":function(t,e,a){"use strict";a("4913")},4913:function(t,e,a){},5433:function(t,e,a){},"5b39":function(t,e,a){"use strict";a.r(e);a("b0c0"),a("4de4"),a("d3b7"),a("a4d3"),a("e01a");var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var r=a.handleSubmit;return[e("el-form",{ref:"matrixClassifyForm",attrs:{"label-position":"left"}},[e("h6",{staticClass:"title mt-3",staticStyle:{color:"#EF8C1A"}},[e("strong",[t._v("1. Thông cấu hình tham số KHDN")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"codeConfig"}},[e("el-form-item",{attrs:{prop:"codeConfig"}},[e("label",{attrs:{for:"name"}},[t._v("Mã cấu hình tham số")]),e("el-input",{ref:"codeConfig",staticClass:"form-control non-border",attrs:{id:"codeConfig",disabled:!0},model:{value:t.dataTypeConfig.codeConfig,callback:function(e){t.$set(t.dataTypeConfig,"codeConfig",e)},expression:"dataTypeConfig.codeConfig"}})],1)],1)],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"nameConfig"}},[e("el-form-item",{attrs:{prop:"nameConfig"}},[e("label",{attrs:{for:"name"}},[t._v("Tên cấu hình tham số")]),e("el-input",{ref:"nameConfig",staticClass:"form-control non-border",attrs:{id:"nameConfig",disabled:!0},model:{value:t.dataTypeConfig.nameConfig,callback:function(e){t.$set(t.dataTypeConfig,"nameConfig",e)},expression:"dataTypeConfig.nameConfig"}})],1)],1)],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"statusTypeConfig"}},[e("el-form-item",{attrs:{prop:"statusTypeConfig"}},[e("label",{attrs:{for:"name"}},[t._v("Trạng thái")]),e("el-select",{staticClass:"form-control non-border",attrs:{id:"statusTypeConfig",disabled:"AddConfig"===t.$route.name,placeholder:"---Chọn trạng thái---"},model:{value:t.dataTypeConfig.status,callback:function(e){t.$set(t.dataTypeConfig,"status",e)},expression:"dataTypeConfig.status"}},t._l(t.lstStatusTypeConfig,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)]),e("h6",{staticClass:"title mt-3",staticStyle:{color:"#EF8C1A"}},[e("strong",[t._v("2. Chi tiết thuộc tính")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"codeProperty"}},[e("el-form-item",{attrs:{prop:"codeProperty"}},[e("label",{attrs:{for:"name"}},[t._v("Mã thuộc tính")]),e("el-input",{ref:"codeProperty",staticClass:"form-control non-border",attrs:{id:"codeProperty"},model:{value:t.filter.codeProperty,callback:function(e){t.$set(t.filter,"codeProperty",e)},expression:"filter.codeProperty"}})],1)],1)],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"nameProperty"}},[e("el-form-item",{attrs:{prop:"nameProperty"}},[e("label",{attrs:{for:"name"}},[t._v("Tên thuộc tính")]),e("el-input",{ref:"nameProperty",staticClass:"form-control non-border",attrs:{id:"nameProperty"},model:{value:t.filter.nameProperty,callback:function(e){t.$set(t.filter,"nameProperty",e)},expression:"filter.nameProperty"}})],1)],1)],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("ValidationProvider",{attrs:{name:"statusProperty"}},[e("el-form-item",{attrs:{prop:"statusProperty"}},[e("label",{attrs:{for:"name"}},[t._v("Trạng thái")]),e("el-select",{staticClass:"form-control non-border",attrs:{id:"statusProperty",placeholder:"--- Tất cả ---"},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}},[e("el-option",{attrs:{label:"Tất cả",value:""}}),e("el-option",{attrs:{label:"Hoạt động",value:"1"}}),e("el-option",{attrs:{label:"Không hoạt động",value:"2"}})],1)],1)],1)],1)])]),e("div",{staticClass:"mt-5 text-center"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handleSearch}},[t._v("TÌM KIẾM")]),e("el-button",{attrs:{type:"success",plain:""},on:{click:t.handleCreate}},[t._v("THÊM MỚI")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.handleImport}},[t._v("IMPORT")])],1),e("div",{staticClass:"row mt-5"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataConfigProperty,"header-cell-style":{background:"#F2F2F3",color:"#000000"},border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{width:"100px",label:"Thao tác","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.row;return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center"},[e("span",{staticClass:"me-2"},[e("svg-icon",{staticStyle:{color:"#083863"},attrs:{"icon-class":"edit"},on:{click:function(e){return t.handleUpdate(r)}}})],1)])])]}}],null,!0)}),e("el-table-column",{attrs:{label:"STT",width:"100px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.$index;return[t._v(" "+t._s(a+1)+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"Mã thuộc tính",width:"300px","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.codeProperty)+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"Tên thuộc tính","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.nameProperty)+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"Mô tả","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.description)+" ")]}}],null,!0)}),e("el-table-column",{attrs:{label:"Trạng thái",width:"200px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.renderStatus(a.status))+" ")]}}],null,!0)})],1),e("ImportProperty",{attrs:{"dialog-import-visible":t.dialogImportVisible,parent:t.dataTypeConfig},on:{"update:dialogImportVisible":function(e){t.dialogImportVisible=e},"update:dialog-import-visible":function(e){t.dialogImportVisible=e},reload:t.getDataConfigProperty}})],1),e("ModifyProperty",{attrs:{current:t.currentObj,"dialog-form-visible":t.dialogFormVisible,"dialog-status":t.dialogStatus,parent:t.dataTypeConfig},on:{"update:dialogFormVisible":function(e){t.dialogFormVisible=e},"update:dialog-form-visible":function(e){t.dialogFormVisible=e},reload:t.getDataConfigProperty}}),e("div",{staticClass:"float-end mt-3"},[e("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-size":t.pagination.pageSize,"page-sizes":t.pageSizes,layout:"sizes,prev, pager, next, total",total:t.pagination.totalItems},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNumber",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNumber",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("div",{staticClass:"mt-5 text-center"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.closePage}},[t._v("ĐÓNG")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return r(t.submit)}}},[t._v("LƯU")])],1)]}}])})],1)},n=[],o=a("391d"),i=a("7bb1"),s=a("3081"),l=a("e08d"),c=a("1724"),u=function(){var t=this,e=t._self._c;return e("ValidationObserver",{ref:"observer",scopedSlots:t._u([{key:"default",fn:function(a){var r=a.handleSubmit;return[e("el-dialog",{attrs:{visible:t.dialogFormVisible,"before-close":t.closeDialog},on:{"update:visible":function(e){t.dialogFormVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("el-form",{ref:"dataForm",attrs:{rules:t.rules,model:t.current,"label-position":"left","label-width":"70px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"codeProperty",rules:{required:!0,regex:/^[a-zA-Z0-9_]*$/,max:20}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("el-form-item",{attrs:{prop:"codeProperty",error:t.messageError(t.configParameterPropertyFields.codeProperty,r[0])}},[e("label",[t._v("Mã thuộc tính"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("el-input",{staticClass:"form-control",attrs:{id:"codeProperty",disabled:"update"===t.dialogStatus,placeholder:"Nhập",value:""},model:{value:t.current.codeProperty,callback:function(e){t.$set(t.current,"codeProperty",e)},expression:"current.codeProperty"}})],1)]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"nameProperty",rules:{required:!0,max:100}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("el-form-item",{attrs:{prop:"nameProperty",error:t.messageError(t.configParameterPropertyFields.nameProperty,r[0])}},[e("label",[t._v("Tên thuộc tính"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("el-input",{staticClass:"form-control",attrs:{id:"nameProperty",placeholder:"Nhập",value:""},model:{value:t.current.nameProperty,callback:function(e){t.$set(t.current,"nameProperty",e)},expression:"current.nameProperty"}})],1)]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"description",rules:{max:500}},scopedSlots:t._u([{key:"default",fn:function(a){var r=a.errors;return[e("el-form-item",{attrs:{prop:"description",error:t.messageError(t.configParameterPropertyFields.description,r[0])}},[e("label",[t._v("Mô tả"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("el-input",{staticClass:"form-control",attrs:{id:"description",type:"textarea",placeholder:"Nhập",value:""},model:{value:t.current.description,callback:function(e){t.$set(t.current,"description",e)},expression:"current.description"}})],1)]}}],null,!0)})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("ValidationProvider",{attrs:{name:"status"}},[e("el-form-item",{attrs:{prop:"status"}},[e("label",{attrs:{for:"name"}},[t._v("Trạng thái")]),e("el-select",{staticClass:"form-control non-border",attrs:{id:"status",placeholder:"---Chọn trạng thái---"},model:{value:t.current.status,callback:function(e){t.$set(t.current,"status",e)},expression:"current.status"}},t._l(t.lstStatusProperty,(function(t){return e("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1)])]),e("div",{staticClass:"dialog-footer text-center",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("ĐÓNG")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return r(t.submit)}}},[t._v("LƯU")])],1)],1)]}}])})},d=[],p=a("4c93");Object(i["c"])("required",p["c"]),Object(i["c"])("max",{validate:function(t,e){return t.length<=e.length},params:["length"],message:" không được vượt quá {length} kí tự"});var f={name:"ModifyProperty",components:{ValidationObserver:i["a"],ValidationProvider:i["b"]},mixins:[s["a"],o["a"]],props:{current:{type:Object,default:null},dialogFormVisible:{type:Boolean,default:!1},parent:{type:Object,default:null},dialogStatus:{type:String,default:""}},data:function(){return{rules:{},lstStatusProperty:null}},created:function(){this.getLstStatusProperty()},methods:{closeDialog:function(){var t=this;this.$emit("update:dialogFormVisible",!1),this.$nextTick((function(){t.$refs.observer.reset()}))},submit:function(){"create"===this.dialogStatus?this.createData():"update"===this.dialogStatus&&this.updateData()},createData:function(){var t=this;this.current.idTypeConfig=this.parent.id,Object(c["a"])(this.current).then((function(e){1===t.parent.status&&(t.parent.status=2,Object(l["c"])(t.parent).then((function(t){}))),t.$emit("update:dialogFormVisible",!1),t.$emit("reload"),t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(t.$emit("reload"),console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))},updateData:function(){var t=this;Object(c["e"])(this.current).then((function(e){1===t.parent.status&&(t.parent.status=2,Object(l["c"])(t.parent).then((function(t){}))),t.$emit("update:dialogFormVisible",!1),t.$emit("reload"),t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(t.$emit("reload"),console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))},handleRejectFrontEnd:function(){this.flag=!0},renderTitle:function(){return"create"===this.dialogStatus?"Thêm mới thuộc tính":"update"===this.dialogStatus?"Chỉnh sửa thuộc tính":void 0},getLstStatusProperty:function(){this.lstStatusProperty=[{id:1,name:"Hoạt động"},{id:2,name:"Không hoạt động"}]}}},g=f,m=(a("0534"),a("2877")),h=Object(m["a"])(g,u,d,!1,null,"e49c2042",null),b=h.exports,y=a("0354"),v={name:"ModifyConfig",components:{ValidationObserver:i["a"],ValidationProvider:i["b"],ModifyProperty:b,ImportProperty:y["a"]},mixins:[s["a"],o["a"]],data:function(){return{filter:{idTypeConfig:null,codeProperty:null,nameProperty:null,status:null},configProperty:{id:null,idTypeConfig:null,codeProperty:null,nameProperty:null,description:null,status:null},dataTypeConfig:null,dataConfigProperty:null,lstStatusTypeConfig:null,dialogFormVisible:!1,dialogImportVisible:!1,dialogStatus:"",currentObj:{id:null,idTypeConfig:null,codeProperty:null,nameProperty:null,description:null,status:null}}},created:function(){this.getObjectFromPath(),this.getLstStatusTypeConfig(),this.getDataConfigProperty()},methods:{submit:function(){"AddConfig"===this.$route.name?this.createData():"EditConfig"===this.$route.name&&this.updateData()},updateData:function(){var t=this;Object(l["c"])(this.dataTypeConfig).then((function(e){t.closePage(),t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))},handleCurrentChange:function(t){this.pagination.pageNumber=t,this.getListMatrix()},handleSizeChange:function(t){this.pagination.pageSize=t,this.getListMatrix()},handleSearch:function(){this.getDataConfigProperty()},closePage:function(){this.$router.back()},handleCreate:function(){this.dialogStatus="create",this.currentObj={id:null,idTypeConfig:null,codeProperty:null,nameProperty:null,description:null,status:1},this.resetSearchObj(),this.dialogFormVisible=!0},handleUpdate:function(t,e){this.dialogStatus="update",this.currentObj=t,this.dialogFormVisible=!0},handleImport:function(){this.dialogImportVisible=!0},resetSearchObj:function(){this.filter={idTypeConfig:null,codeProperty:null,nameProperty:null,status:null}},renderStatus:function(t){if(!t)return"";var e="";switch(t){case 1:e="Hoạt động";break;case 2:e="Không hoạt động";break}return e},getLstStatusTypeConfig:function(){this.lstStatusTypeConfig=[{id:1,name:"Chưa tạo thuộc tính"},{id:2,name:"Hoạt động"},{id:3,name:"Không hoạt động"}]},getObjectFromPath:function(){var t=this,e=this.$route.params.id;e&&Object(l["b"])(e).then((function(e){t.dataTypeConfig=e.data,t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))},getDataConfigProperty:function(){var t=this,e=this.$route.params.id;this.filter.idTypeConfig=e,e&&Object(c["c"])(this.filter).then((function(e){t.dataConfigProperty=e.data.result,t.pagination={pageNumber:e.data.pageNumber,pageSize:e.data.pageSize,totalItems:e.data.totalItems,totalPages:e.data.totalPages},t.notifySuccess("Thông tin",e.message)})).catch((function(e){e.response&&(console.log(e.response),t.notifyError("Thông tin",e.response.data.message))}))}}},C=v,P=(a("d42e"),Object(m["a"])(C,r,n,!1,null,null,null));e["default"]=P.exports},d42e:function(t,e,a){"use strict";a("5433")}}]);