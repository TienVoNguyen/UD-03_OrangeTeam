(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74f8d32b"],{"0b01":function(t,e,a){"use strict";a("885f")},1591:function(t,e,a){"use strict";a.d(e,"c",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"a",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"b",(function(){return r}));var i=a("b775");function n(t){return Object(i["a"])({url:"matrix-classify",method:"post",data:t})}function s(t){return Object(i["a"])({url:"matrix-classify/".concat(t),method:"get"})}function o(t){return Object(i["a"])({url:"matrix-classify/create",method:"post",data:t})}function l(t){return Object(i["a"])({url:"matrix-classify/".concat(t.id),method:"put",data:t})}function r(t){return Object(i["a"])({url:"matrix-classify/".concat(t),method:"delete"})}},"391d":function(t,e,a){"use strict";var i=a("b4a5"),n={data:function(){return{loading:null}},methods:{showLoading:function(){var t=this;this.loading=this.$loading({lock:!0,text:"Đang tải"}),setTimeout((function(){t.hideLoading()}),5e4)},hideLoading:function(){this.loading.close()}}},s={data:function(){return{duration:3e3}},methods:{notifySuccess:function(t,e){this.$notify({title:t,message:e,type:"success",duration:this.duration,customClass:"loading-backgroup-success"})},notifyWarning:function(t,e){this.$notify({title:t,message:e,type:"warning",duration:this.duration,customClass:"loading-backgroup-warning"})},notifyInfo:function(t,e){this.$notify({title:t,message:e,type:"info",duration:this.duration,customClass:"loading-backgroup-info"})},notifyError:function(t,e){this.$notify({title:t,message:e,type:"error",duration:this.duration,customClass:"loading-backgroup-error"})}}},o=(a("d3b7"),a("25f0"),{data:function(){return{}},methods:{convertDateToServer:function(t,e){return""===t||void 0===t||null==t?"":this.$moment(t,e).tz(this.$moment.tz.guess(!0)).utc().format()},convertDateToLocal:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).parseZone(this.$moment.tz.guess(!0)).local().format(e)},convertDateToLocalUTC:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).format(e)},convertDateToAnotherFormat:function(t,e,a){return""===t||void 0===t?"":this.$moment(t,e).format(a)},ConvertTimeRanges:function(t){if(null!=t&&t.toString().length>0){var e=t.split(" to ");return this.TimeRangesModel.from=this.convertDateToAnotherFormat(e[0]+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel.to=this.convertDateToAnotherFormat(e[1]+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel}return this.TimeRangesModel.to=null,this.TimeRangesModel.from=null,this.TimeRangesModel},ConvertTimeFrom:function(t){return this.convertDateToAnotherFormat(t+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeTo:function(t){return this.convertDateToAnotherFormat(t+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeFromToDateJava:function(t){return t+" 00:00:00"},ConvertTimeToToDateJava:function(t){return t+" 23:59:59"}}}),l={methods:{hasPermission:function(t,e){return-1!==this.$store.getters.actions[null===t||void 0===t?void 0:t.toLowerCase()].indexOf(e)}}};e["a"]={mixins:[i["a"],n,s,o,l]}},4109:function(t,e,a){"use strict";a("cd39")},6724:function(t,e,a){"use strict";a("8d41");var i="@@wavesContext";function n(t,e){function a(a){var i=Object.assign({},e.value),n=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=n.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),l=s.querySelector(".waves-ripple");switch(l?l.className="waves-ripple":(l=document.createElement("span"),l.className="waves-ripple",l.style.height=l.style.width=Math.max(o.width,o.height)+"px",s.appendChild(l)),n.type){case"center":l.style.top=o.height/2-l.offsetHeight/2+"px",l.style.left=o.width/2-l.offsetWidth/2+"px";break;default:l.style.top=(a.pageY-o.top-l.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",l.style.left=(a.pageX-o.left-l.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return l.style.backgroundColor=n.color,l.className="waves-ripple z-active",!1}}return t[i]?t[i].removeHandle=a:t[i]={removeHandle:a},a}var s={bind:function(t,e){t.addEventListener("click",n(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[i].removeHandle,!1),t.addEventListener("click",n(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[i].removeHandle,!1),t[i]=null,delete t[i]}},o=function(t){t.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;e["a"]=s},"885f":function(t,e,a){},"8d41":function(t,e,a){},"9fcc":function(t,e,a){"use strict";a.r(e);a("4de4"),a("d3b7");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"filter"},[e("el-form",{ref:"filterForm",staticClass:"mt-3",attrs:{"label-position":"left"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-3"},[e("el-form-item",[e("label",{attrs:{for:"nameMatrix"}},[t._v("Tên ma trận")]),e("el-input",{ref:"nameMatrix",staticClass:"form-control non-border",attrs:{id:"nameMatrix",placeholder:"Nhập tên ma trận"},model:{value:t.filter.nameMatrix,callback:function(e){t.$set(t.filter,"nameMatrix",e)},expression:"filter.nameMatrix"}})],1)],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("el-form-item",[e("label",[t._v("Ngày tạo")]),e("div",[e("el-date-picker",{staticStyle:{width:"40%"},attrs:{placeholder:"Từ ngày",type:"date","value-format":"yyyy-MM-dd",format:"dd/MM/yyyy"},model:{value:t.filter.createTimeFrom,callback:function(e){t.$set(t.filter,"createTimeFrom",e)},expression:"filter.createTimeFrom"}}),e("i",{staticClass:"el-icon-minus font-weight-bold",staticStyle:{padding:"1% 2% 0 2%"}}),e("el-date-picker",{staticStyle:{width:"40%"},attrs:{placeholder:"Đến ngày",type:"date",format:"dd/MM/yyyy","value-format":"yyyy-MM-dd"},model:{value:t.filter.createTimeTo,callback:function(e){t.$set(t.filter,"createTimeTo",e)},expression:"filter.createTimeTo"}})],1)])],1),e("div",{staticClass:"col-1"}),e("div",{staticClass:"col-3"},[e("el-form-item",[e("label",{attrs:{for:"status"}},[t._v("Trạng thái")]),e("el-select",{staticClass:"form-control non-border",attrs:{id:"status",placeholder:"---Tất cả---"},model:{value:t.filter.status,callback:function(e){t.$set(t.filter,"status",e)},expression:"filter.status"}},[e("el-option",{attrs:{label:"Tất cả",value:""}}),e("el-option",{attrs:{label:"Tạo mới",value:"1"}}),e("el-option",{attrs:{label:"Chờ duyệt",value:"2"}}),e("el-option",{attrs:{label:"Từ chối",value:"3"}}),e("el-option",{attrs:{label:"Chỉnh sửa",value:"4"}}),e("el-option",{attrs:{label:"Hoạt động",value:"5"}}),e("el-option",{attrs:{label:"Không hoạt động",value:"6"}})],1)],1)],1)])]),e("div",{staticClass:"row mt-3 mb-5"},[e("div",{staticClass:"col-12 text-center"},[e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.handleSearch}},[t._v("Tìm kiếm")]),e("el-button",{attrs:{type:"warning",plain:""},on:{click:function(e){return t.$router.push("/parameter-management/scale/matrix-classify/add")}}},[t._v("Thêm mới")])],1)])],1),e("div",{staticClass:"content"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,"header-cell-style":{background:"#F2F2F3",color:"#000000"},border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{width:"100px",label:"Thao tác","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(a){var i=a.row;return[t.isAdmin?t._e():e("div",{staticClass:"row"},[1===i.status||3===i.status||4===i.status?e("div",{staticClass:"col-2"},[e("span",{staticClass:"me-2"},[e("router-link",{attrs:{to:{name:"EditMatrix",params:{id:i.id}}}},[e("svg-icon",{staticStyle:{color:"#083863"},attrs:{"icon-class":"edit"}})],1)],1)]):t._e(),2===i.status||5===i.status||6===i.status||7===i.status?e("div",{staticClass:"col-2"},[e("span",{staticClass:"me-2"},[e("router-link",{attrs:{to:{name:"ViewDetailMatrix",params:{id:i.id}}}},[e("svg-icon",{staticStyle:{color:"#A045CB"},attrs:{"icon-class":"eye-open"}})],1)],1)]):t._e(),1===i.status||4===i.status?e("div",{staticClass:"col-1"},[e("span",{on:{click:function(e){return t.handleApprove(i)}}},[e("i",{staticClass:"el-icon-document-checked",staticStyle:{color:"#0FA958"}})])]):t._e(),e("div",{staticClass:"col-2"},[e("span",[1===i.status||3===i.status||4===i.status?e("i",{staticClass:"el-icon-delete",staticStyle:{color:"#FF485A"},on:{click:function(e){return t.handleDelete(i)}}}):t._e(),5===i.status||6===i.status||7===i.status?e("router-link",{attrs:{to:{name:"AddMatrix",query:i}}},[e("span",{staticClass:"el-icon-document-copy",staticStyle:{color:"#0FA958"}})]):t._e()],1)])]),t.isAdmin?e("div",{staticClass:"row"},[2!==i.status?e("div",{staticClass:"col-2"},[e("span",{staticClass:"me-2"},[e("router-link",{attrs:{to:{name:"ViewDetailMatrix",params:{id:i.id}}}},[e("svg-icon",{staticStyle:{color:"#A045CB","font-size":"20px"},attrs:{"icon-class":"eye-open"}})],1)],1)]):t._e(),2===i.status?e("div",{staticClass:"col-2"},[e("router-link",{attrs:{to:{name:"ApproveMatrix",params:{id:i.id}}}},[e("span",{staticClass:"el-icon-document-checked",staticStyle:{color:"#699BF7","font-size":"20px"}})])],1):t._e(),e("div",{staticClass:"col-1"},[6===i.status?e("span",{on:{click:function(e){return t.handleHotChangeActive(i)}}},[e("i",{staticClass:"el-icon-circle-close",staticStyle:{color:"#FF485A","font-size":"20px"}})]):t._e(),5===i.status||7===i.status?e("span",{on:{click:function(e){return t.handleHotChangeActive(i)}}},[e("i",{staticClass:"el-icon-circle-check",staticStyle:{color:"#0FA958","font-size":"20px"}})]):t._e()])]):t._e()]}}])}),e("el-table-column",{attrs:{label:"Tên quy tắc","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(a.nameMatrix)+" ")]}}])}),e("el-table-column",{attrs:{label:"Bộ quy tắc","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.renderRules(a.rules))+" ")]}}])}),e("el-table-column",{attrs:{label:"Ngày tạo",width:"200px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.convertDateToLocal(a.createTime,"DD/MM/YYYY"))+" ")]}}])}),e("el-table-column",{attrs:{label:"Ngày duyệt",width:"200px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.convertDateToLocal(a.approveTime,"DD/MM/YYYY"))+" ")]}}])}),e("el-table-column",{attrs:{label:"Trạng thái",width:"200px","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v(" "+t._s(t.renderStatus(a.status))+" ")]}}])})],1),e("div",{staticClass:"float-end mt-3"},[e("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-size":t.pagination.pageSize,"page-sizes":t.pageSizes,layout:"sizes,prev, pager, next, total",total:t.pagination.totalItems},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNumber",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNumber",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("delete-matrix",{attrs:{"dialog-delete-visible":t.dialogDeleteVisible,temp:t.temp,title:t.title,list:t.list,pagination:t.pagination},on:{"update:dialogDeleteVisible":function(e){t.dialogDeleteVisible=e},"update:dialog-delete-visible":function(e){t.dialogDeleteVisible=e},"update:list":function(e){t.list=e},"update:pagination":function(e){t.pagination=e}}})],1)])},n=[],s=a("6724"),o=a("391d"),l=function(){var t=this,e=t._self._c;return e("el-dialog",{attrs:{visible:t.dialogDeleteVisible,"before-close":t.closeDialog,center:!0,width:"40%","show-close":!1},on:{"update:visible":function(e){t.dialogDeleteVisible=e},"update:beforeClose":function(e){t.closeDialog=e},"update:before-close":function(e){t.closeDialog=e}}},[e("h3",{staticClass:"title mt-3",attrs:{slot:"title"},slot:"title"},[e("strong",[t._v(t._s(t.renderTitle()))])]),e("div",{staticClass:"text-center"},[e("p",{staticClass:"text-danger"},[t._v(" "+t._s(t.renderContent())+" ")])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"info",plain:""},on:{click:t.closeDialog}},[t._v("ĐÓNG")]),"delete"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.deleteData}},[t._v("Đồng ý")]):t._e(),"approve"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.approveData}},[t._v("Đồng ý")]):t._e(),"hotchange"===t.title?e("el-button",{attrs:{type:"warning",plain:""},on:{click:t.hotChangeData}},[t._v("Đồng ý")]):t._e()],1)])},r=[],c=a("1591"),u={name:"DeleteMatrix",mixins:[o["a"]],props:{dialogDeleteVisible:{type:Boolean,default:!1},temp:{type:Object,default:null},list:{type:Array,default:null},title:{type:String,default:null}},methods:{renderTitle:function(){return"delete"===this.title?"Xóa ma trận":"approve"===this.title?"Trình duyệt ma trận":"hotchange"===this.title?"Thay đổi trạng thái":void 0},renderContent:function(){return"delete"===this.title?"Bạn có chắc chắn muốn xóa ma trận này không ?":"approve"===this.title?"Bạn có chắc chắn muốn trình duyệt ma trận này không ?":"hotchange"===this.title?"Bạn có chắc chắn muốn thay đổi trạng thái hoạt động của ma trận này không ?":void 0},closeDialog:function(){this.$emit("update:dialogDeleteVisible",!1)},deleteData:function(){var t=this;console.log(this.temp),Object(c["b"])(this.temp.id).then((function(e){var a=e.data.nameMatrix;t.$emit("update:dialogDeleteVisible",!1),t.notifySuccess("Thông tin","Xóa ma trận "+a+" thành công"),t.$parent.getListMatrix()})),setTimeout((function(){t.listLoading=!1}),1500)},approveData:function(){var t=this;this.temp.status=2,Object(c["e"])(this.temp).then((function(e){t.$emit("update:dialogDeleteVisible",!1),t.notifySuccess("Thông tin","Trình duyệt ma trận "+e.data.nameMatrix+" thành công"),t.$parent.getListMatrix()}))},hotChangeData:function(){var t=this;5===this.temp.status?this.temp.status=6:6===this.temp.status?this.temp.status=7:7===this.temp.status&&(this.temp.status=6),console.log(this.temp),Object(c["e"])(this.temp).then((function(e){t.$emit("update:dialogDeleteVisible",!1),t.notifySuccess("Thông tin","Phê duyệt ma trận "+e.data.nameMatrix+" thành công"),t.$parent.getListMatrix()}))}}},d=u,m=(a("4109"),a("2877")),h=Object(m["a"])(d,l,r,!1,null,"7894160a",null),p=h.exports,f={name:"ListMatrix",components:{DeleteMatrix:p},directives:{waves:s["a"]},mixins:[o["a"]],data:function(){return{list:null,dialogDeleteVisible:!1,filter:{nameMatrix:null,createTimeFrom:null,createTimeTo:null,status:null,pageSize:10,pageIndex:0},temp:{},title:null,isAdmin:!1}},created:function(){this.getListMatrix()},methods:{handleCurrentChange:function(t){this.pagination.pageNumber=t,this.getListMatrix()},handleSizeChange:function(t){this.pagination.pageSize=t,this.getListMatrix()},handleSearch:function(){this.getListMatrix()},handleDelete:function(t){this.title="delete",this.dialogDeleteVisible=!0,this.temp=t},handleApprove:function(t){this.title="approve",this.dialogDeleteVisible=!0,this.temp=t},handleHotChangeActive:function(t){this.temp=t,this.title="hotchange",this.dialogDeleteVisible=!0},renderRules:function(t){if(!t)return"";var e="";switch(t){case 1:e="Quy tắc TPBank";break;case 2:e="Quy tắc theo điểm chỉ tiêu";break;case 3:e="Quy tắc TPBank, Quy tắc theo điểm chỉ tiêu";break}return e},renderStatus:function(t){if(!t)return"";var e="";switch(t){case 1:e="Tạo mới";break;case 2:e="Chờ duyệt";break;case 3:e="Từ chối";break;case 4:e="Chỉnh sửa";break;case 5:e="Đã phê duyệt";break;case 6:e="Hoạt động";break;case 7:e="Không hoạt động";break}return e},getListMatrix:function(){var t=this;this.filter.pageIndex=this.pagination.pageNumber,this.filter.pageSize=this.pagination.pageSize,this.listLoading=!0,Object(c["c"])(this.filter).then((function(e){t.list=e.data.result,t.pagination={pageNumber:e.data.pageNumber,pageSize:e.data.pageSize,totalItems:e.data.totalItems,totalPages:e.data.totalPages}})),setTimeout((function(){t.listLoading=!1}),1e3)}}},g=f,v=(a("0b01"),Object(m["a"])(g,i,n,!1,null,null,null));e["default"]=v.exports},b4a5:function(t,e,a){"use strict";e["a"]={data:function(){return{pagination:{pageNumber:1,pageSize:10,totalItems:0,totalPages:0},pageSizes:[10,20,50,100]}},methods:{}}},cd39:function(t,e,a){}}]);