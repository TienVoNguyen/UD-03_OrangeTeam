(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f108f5c"],{"1e75":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var a=n("b775");function i(t){return Object(a["a"])({url:"positions",method:"get",params:t})}function o(t){return Object(a["a"])({url:"position/".concat(t),method:"get"})}function s(t){return Object(a["a"])({url:"position",method:"post",data:t})}function r(t,e){return Object(a["a"])({url:"position/".concat(t),method:"put",data:e})}function c(t,e){return Object(a["a"])({url:"position/".concat(t),method:"delete",data:e})}function l(t){return Object(a["a"])({url:"data/positions",method:"get",params:t})}},3081:function(t,e,n){"use strict";var a=n("5530"),i=(n("d3b7"),n("25f0"),n("4c93")),o=n("7bb1");Object(o["c"])("required",Object(a["a"])(Object(a["a"])({},i["c"]),{},{message:" bắt buộc nhập"})),Object(o["c"])("requiredSelect",Object(a["a"])(Object(a["a"])({},i["c"]),{},{message:" bắt buộc chọn"})),Object(o["c"])("ext",Object(a["a"])(Object(a["a"])({},i["a"]),{},{message:" không đúng định dạng"})),Object(o["c"])("regex",Object(a["a"])(Object(a["a"])({},i["b"]),{},{message:" không đúng định dạng"})),Object(o["c"])("max",{validate:function(t,e){return t.toString().length<=e.length},params:["length"],message:" không vượt quá {length} ký tự"}),Object(o["c"])("isLower",{params:["target"],validate:function(t,e){var n=e.target;return!n||+t<+n},message:" phải nhỏ hơn chặn trên"}),e["a"]={data:function(){return{loginFields:{username:"Tên đăng nhập",password:"Mật khẩu"},approverFields:{unit:"Đơn vị",position:"Chức vụ",approver:"Họ và tên"},scorePeriodFields:{name:"Kỳ chấm điểm"},lendingFields:{type:"Loại chấm điểm",name:"Loại hình chấm điểm"},systemFields:{dept1:"Đơn vị",dept1_type:"Loại đơn vị",dept2:"Phòng ban",side:"Miền",name:"Tên",status:"Trạng thái",code:"Mã",position:"Chức vụ",file:"File"},customer_identificationFields:{code_tax:"Mã số thuế",code_reg:"Mã số đăng ký kinh doanh",name_dn:"Tên doanh nghiệp",name_dept:"Tên đơn vị quản lý",code_dept:"Mã đơn vị quản lý"},rank_adjustFields:{rule_change:"Quy tắc điều chỉnh",cause_change:"Nguyên nhân điều chỉnh",reason_change:"Lý do điều chỉnh"},functionsName:{title:"Tiêu đề",path:"Path",icon:"Icon",component:"Mã màn hình",priority:"Thứ tự"},economic_sbvFields:{codeSBV:"Mã ngành kinh tế SBV",nameSBV:"Tên ngành kinh tế SBV",requestChange:"Yêu cầu điều chỉnh",file:"File"},groupFCCFields:{code:"Mã ngành kinh tế FCC",name:"Tên ngành kinh tế FCC",sbv:"Ngành kinh tế SBV",css:"Nhóm ngành"},groupFCCImportFields:{file:"File"},matrixClassifyFields:{nameMatrix:"Tên ma trận",rules:"Loại quy tắc phân loại quy mô",tpBankRule:"Quy tắc phân loại TPBank",pointRule:"Quy tắc phân loại theo điểm chỉ tiêu",establishMatrix:"Thiết lập ma trận",requestChangeMatrix:"Lý do từ chối"},tpBankRuleFields:{name:"Tên quy tắc",unit:"Đơn vị báo cáo tài chính",sales:"Doanh thu",salesCriteria:"Doanh thu - Chọn tiêu chí",equity:"Vốn chủ sở hữu",equityCriteria:"Vốn chủ sở hữu - Chọn tiêu chí",configScalePointList:"Thiết lập điểm quy mô"},salesScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},equityScalePointFields:{fromSign:"Dấu",fromValue:"Chặn dưới",toValue:"Chặn trên",toSign:"Dấu"},configScalePointFields:{size:"Size",scale:"Quy mô"},branches:{branchCode:"Mã đơn vị",branchCodeNumber:"Mã số đơn vị",branchTypeName:"Loại đơn vị",branchName:"Tên đơn vị",districtName:"Miền"},departments:{branchName:"Tên đơn vị",name:"Tên phòng ban"},positions:{branchName:"Tên đơn vị",name:"Tên chức vụ",departmentName:"Tên phòng ban"},groups:{name:"Tên nhóm",code:"Mã nhóm"},users:{groupName:"Tên nhóm",username:"Tên đăng nhập",name:"Tên nhân viên"},ruleChangeRankFields:{content:"Lý do"},singleScoringModelKHDNFields:{codeModel:"Mã mô hình đơn",nameModel:"Tên mô hình đơn",typeRank:"Loại xếp hạng",scaleClassify:"Phân loại quy mô",industryGroup:"Nhóm ngành",inputModel:"Tên mô hình nhập liệu",typeCode:"Loại code",fileCodeModel:"File code model",fileImport:"File",userCreated:"Người tạo",userApproved:"Người duyệt"},configParameterPropertyFields:{codeProperty:"Mã thuộc tính",nameProperty:"Tên thuộc tính",description:"Mô tả",file:"File"}}},methods:{messageError:function(t,e){if(void 0!==e)return t+e}}}},"391d":function(t,e,n){"use strict";var a=n("b4a5"),i={data:function(){return{loading:null}},methods:{showLoading:function(){var t=this;this.loading=this.$loading({lock:!0,text:"Đang tải"}),setTimeout((function(){t.hideLoading()}),5e4)},hideLoading:function(){this.loading.close()}}},o={data:function(){return{duration:3e3}},methods:{notifySuccess:function(t,e){this.$notify({title:t,message:e,type:"success",duration:this.duration,customClass:"loading-backgroup-success"})},notifyWarning:function(t,e){this.$notify({title:t,message:e,type:"warning",duration:this.duration,customClass:"loading-backgroup-warning"})},notifyInfo:function(t,e){this.$notify({title:t,message:e,type:"info",duration:this.duration,customClass:"loading-backgroup-info"})},notifyError:function(t,e){this.$notify({title:t,message:e,type:"error",duration:this.duration,customClass:"loading-backgroup-error"})}}},s=(n("d3b7"),n("25f0"),{data:function(){return{}},methods:{convertDateToServer:function(t,e){return""===t||void 0===t||null==t?"":this.$moment(t,e).tz(this.$moment.tz.guess(!0)).utc().format()},convertDateToLocal:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).parseZone(this.$moment.tz.guess(!0)).local().format(e)},convertDateToLocalUTC:function(t,e){return""===t||void 0===t||null==t?"":this.$moment.utc(t).format(e)},convertDateToAnotherFormat:function(t,e,n){return""===t||void 0===t?"":this.$moment(t,e).format(n)},ConvertTimeRanges:function(t){if(null!=t&&t.toString().length>0){var e=t.split(" to ");return this.TimeRangesModel.from=this.convertDateToAnotherFormat(e[0]+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel.to=this.convertDateToAnotherFormat(e[1]+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]"),this.TimeRangesModel}return this.TimeRangesModel.to=null,this.TimeRangesModel.from=null,this.TimeRangesModel},ConvertTimeFrom:function(t){return this.convertDateToAnotherFormat(t+" 00:00:00","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeTo:function(t){return this.convertDateToAnotherFormat(t+" 23:59:59","DD-MM-YYYY HH:mm:ss","YYYY-MM-DD[T]HH:mm:ss[Z]")},ConvertTimeFromToDateJava:function(t){return t+" 00:00:00"},ConvertTimeToToDateJava:function(t){return t+" 23:59:59"}}}),r={methods:{hasPermission:function(t,e){return-1!==this.$store.getters.actions[null===t||void 0===t?void 0:t.toLowerCase()].indexOf(e)}}};e["a"]={mixins:[a["a"],i,o,s,r]}},"56bd":function(t,e,n){"use strict";n("b675")},6721:function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"g",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return l})),n.d(e,"d",(function(){return u}));var a=n("b775");function i(t){return Object(a["a"])({url:"branches",method:"get",params:t})}function o(t){return Object(a["a"])({url:"branch/".concat(t),method:"get"})}function s(t){return Object(a["a"])({url:"branch",method:"post",data:t})}function r(t,e){return Object(a["a"])({url:"branch/".concat(t),method:"put",data:e})}function c(t,e){return Object(a["a"])({url:"branch/".concat(t),method:"delete",data:e})}function l(t){return Object(a["a"])({url:"taxonomy",method:"get",params:t})}function u(t){return Object(a["a"])({url:"data/branches",method:"get",params:t})}},"773b":function(t,e,n){"use strict";n("7ff5")},"7ff5":function(t,e,n){},"935d":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var a=n("b775");function i(t){return Object(a["a"])({url:"departments",method:"get",params:t})}function o(t){return Object(a["a"])({url:"department/".concat(t),method:"get"})}function s(t){return Object(a["a"])({url:"department",method:"post",data:t})}function r(t,e){return Object(a["a"])({url:"department/".concat(t),method:"put",data:e})}function c(t,e){return Object(a["a"])({url:"department/".concat(t),method:"delete",data:e})}function l(t){return Object(a["a"])({url:"data/departments",method:"get",params:t})}},ae9c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("div",[e("list")],1)},i=[],o=(n("ac1f"),n("841c"),n("b0c0"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"col-sm-12 row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"col-sm-12 d-flex justify-content-center"},[e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"mb-1"},[t._v("Mã đơn vị")]),e("el-input",{staticClass:"d-flex justify-content-center w-100",attrs:{placeholder:"Nhập mã đơn vị"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPositions.apply(null,arguments)}},model:{value:t.search.branchCode,callback:function(e){t.$set(t.search,"branchCode",e)},expression:"search.branchCode"}})],1),t._m(0),e("div",{staticClass:"col-sm-5"},[e("div",{staticClass:"mb-1"},[t._v("Mã số đơn vị")]),e("el-input",{staticClass:"w-100",attrs:{placeholder:"Nhập mã số đơn vị"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPositions.apply(null,arguments)}},model:{value:t.search.branchCodeNumber,callback:function(e){t.$set(t.search,"branchCodeNumber",e)},expression:"search.branchCodeNumber"}})],1)])]),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"mb-1",staticStyle:{"padding-left":"7%"}},[t._v("Tên đơn vị")]),e("div",{staticClass:"col-sm-12 d-flex justify-content-center"},[e("el-input",{staticStyle:{width:"86%"},attrs:{placeholder:"Nhập tên đơn vị"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPositions.apply(null,arguments)}},model:{value:t.search.branchName,callback:function(e){t.$set(t.search,"branchName",e)},expression:"search.branchName"}})],1)])]),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"mb-1"},[t._v("Trạng thái")]),e("div",[e("el-select",{staticClass:"w-100",attrs:{placeholder:"Lựa chọn trạng thái"},on:{change:t.getPositions},model:{value:t.search.status,callback:function(e){t.$set(t.search,"status",e)},expression:"search.status"}},t._l(t.listStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])]),e("div",{staticClass:"col-sm-12 row pt-4"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"mb-1"},[t._v("Tên phòng ban")]),e("div",{staticClass:"col-sm-12 d-flex justify-content-center"},[e("el-input",{attrs:{placeholder:"Nhập tên phòng ban"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPositions.apply(null,arguments)}},model:{value:t.search.departmentName,callback:function(e){t.$set(t.search,"departmentName",e)},expression:"search.departmentName"}})],1)])]),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"col-sm-12"},[e("div",{staticClass:"mb-1",staticStyle:{"padding-left":"7%"}},[t._v("Tên chức vụ")]),e("div",{staticClass:"col-sm-12 d-flex justify-content-center"},[e("el-input",{staticStyle:{width:"86%"},attrs:{placeholder:"Nhập tên chức vụ"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getPositions.apply(null,arguments)}},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1)])])]),e("div",{staticClass:"col-sm-12 d-flex justify-content-center pt-4"},[e("el-button",{attrs:{icon:"el-icon-search",type:"primary",plain:""},on:{click:t.getPositions}},[t._v("Tìm kiếm")]),e("el-button",{attrs:{icon:"el-icon-refresh",type:"warning",plain:""},on:{click:t.removeFilter}},[t._v("Xoá tìm kiếm")])],1),e("div",{staticClass:"pt-4 pb-4 d-block float-right"},[t.hasPermission(t.$options.name,"position.insert")?e("el-button",{attrs:{type:"primary",plain:""},on:{click:t.showDialog}},[t._v(" Thêm mới ")]):t._e(),t.hasPermission(t.$options.name,"position.imporrt")?e("el-button",{attrs:{type:"warning",plain:""}},[t._v(" Import ")]):t._e(),t.hasPermission(t.$options.name,"position.export")?e("el-button",{attrs:{type:"success",plain:""}},[t._v(" Export ")]):t._e()],1),e("div",{staticClass:"pt-4"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.positions}},[e("el-table-column",{attrs:{label:"Thao tác"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Sửa",placement:"bottom"}},[t.hasPermission(t.$options.name,"position.update")?e("el-button",{staticClass:"button-custom",attrs:{size:"mini",plain:""},on:{click:function(e){return t.handleEdit(n.$index,n.row)}}},[e("svg-icon",{staticClass:"disabled",attrs:{"icon-class":"edit"}})],1):t._e()],1),e("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Xoá",placement:"bottom"}},[t.hasPermission(t.$options.name,"position.delete")?e("el-button",{staticClass:"button-custom",attrs:{size:"mini",plain:""},on:{click:function(e){return t.handleDelete(n.$index,n.row)}}},[e("svg-icon",{attrs:{"icon-class":"trash"}})],1):t._e()],1)]}}])}),t._l(t.headers,(function(t){return e("el-table-column",{key:t.prop,attrs:{label:t.label,prop:t.prop,formatter:t.formatter,align:t.contentAlign,"header-align":t.headerAlign,"class-name":t.class}})}))],2)],1),e("div",{staticClass:"mt-4 d-block float-right"},[e("el-pagination",{attrs:{"current-page":t.pagination.pageNumber,"page-size":t.pagination.pageSize,"page-sizes":t.pageSizes,layout:"sizes,prev, pager, next, total",total:t.pagination.totalItems},on:{"update:currentPage":function(e){return t.$set(t.pagination,"pageNumber",e)},"update:current-page":function(e){return t.$set(t.pagination,"pageNumber",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),e("ModifyDialog",{attrs:{id:t.id,"show-dialog":t.isShowDialog},on:{hideDialog:t.hideDialog,modifySuccess:t.getPositions}})],1)}),s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-2"},[e("i",{staticClass:"el-icon-minus font-weight-bold d-flex justify-content-center",staticStyle:{"padding-top":"2.5rem !important"}})])}],r=n("c7eb"),c=n("1da1"),l=(n("4de4"),n("d3b7"),n("391d")),u=n("1e75"),d=function(){var t=this,e=t._self._c;return e("div",[e("el-dialog",{attrs:{title:t.isAddNew?"Thêm mới chức vụ":"Chỉnh sửa chức vụ",visible:t.showDialog},on:{"update:visible":function(e){t.showDialog=e}}},[e("ValidationObserver",{ref:"createUpdatePosition",scopedSlots:t._u([{key:"default",fn:function(n){var a=n.handleSubmit;return[e("el-form",{staticClass:"form-container",attrs:{model:t.position}},[e("el-row",{staticClass:"pb-3"},[e("el-col",{attrs:{span:12}},[e("ValidationProvider",{attrs:{name:"branchName",rules:"requiredSelect"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[e("el-form-item",{attrs:{prop:"branchName",error:t.messageError(t.positions.branchName,a[0])}},[e("label",[t._v("Tên đơn vị"),e("span",{staticClass:"text-danger"},[t._v(" * ")])]),e("br"),e("el-select",{staticClass:"w-90",attrs:{placeholder:"Chọn đơn vị",loading:t.loadingSelectForBranches},on:{change:function(e){t.position.departmentCode=null}},model:{value:t.position.branchCode,callback:function(e){t.$set(t.position,"branchCode",e)},expression:"position.branchCode"}},t._l(t.branches,(function(t){return e("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)]}}],null,!0)})],1),e("el-col",{attrs:{span:12}},[e("el-form-item",[e("label",[t._v("Trạng thái"),e("span",{staticClass:"text-danger"},[t._v(" * ")])]),e("br"),e("el-select",{staticClass:"w-full",attrs:{placeholder:"Lựa chọn trạng thái"},model:{value:t.position.status,callback:function(e){t.$set(t.position,"status",e)},expression:"position.status"}},t._l(t.listStatus,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1),e("el-row",{staticClass:"pb-3"},[e("el-col",{attrs:{span:24}},[e("ValidationProvider",{attrs:{name:"departmentName",rules:"requiredSelect"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[e("el-form-item",{attrs:{prop:"branchName",error:t.messageError(t.positions.departmentName,a[0])}},[e("label",[t._v("Tên phòng ban"),e("span",{staticClass:"text-danger"},[t._v(" * ")])]),e("br"),e("el-select",{staticClass:"w-full",attrs:{placeholder:"Chọn phòng ban",loading:t.loadingSelectForDepartments,disabled:null===t.position.branchCode},model:{value:t.position.departmentCode,callback:function(e){t.$set(t.position,"departmentCode",e)},expression:"position.departmentCode"}},t._l(t.departments,(function(t){return e("el-option",{key:t.code,attrs:{label:t.name,value:t.code}})})),1)],1)]}}],null,!0)})],1)],1),e("el-row",{staticClass:"pb-3"},[e("el-col",{attrs:{span:24}},[e("ValidationProvider",{attrs:{name:"name",rules:"requiredSelect"},scopedSlots:t._u([{key:"default",fn:function(n){var a=n.errors;return[e("el-form-item",{attrs:{prop:"branchName",error:t.messageError(t.positions.name,a[0])}},[e("label",[t._v("Tên chức vụ"),e("span",{staticClass:"text-danger"},[t._v(" * ")])]),e("br"),e("el-input",{staticClass:"w-full",attrs:{placeholder:"Nhập tên chức vụ",maxlength:"200","show-word-limit":""},model:{value:t.position.name,callback:function(e){t.$set(t.position,"name",e)},expression:"position.name"}})],1)]}}],null,!0)})],1)],1),e("el-row",{staticClass:"pt-4"},[e("el-form-item",{staticClass:"dialog-footer pr-1-5"},[e("el-button",{attrs:{plain:"",type:"danger"},on:{click:t.hideDialog}},[t._v("Đóng")]),e("el-button",{attrs:{plain:"",type:"primary"},on:{click:function(e){return a(t.save)}}},[t._v(t._s(t.isAddNew?"Đồng ý":"Cập nhật"))])],1)],1)],1)]}}])})],1)],1)},h=[],m=(n("a9e3"),n("3081")),p=n("7bb1"),f=n("6721"),g=n("935d"),b={name:"UpdatePosition",components:{ValidationObserver:p["a"],ValidationProvider:p["b"]},mixins:[m["a"],l["a"]],props:{showDialog:{type:Boolean,default:!1},id:{type:Number,default:null}},data:function(){return{position:{id:null,branchCode:null,status:1,departmentCode:null,name:null,version:null},listStatus:[{value:0,label:"Tạm ngưng"},{value:1,label:"Hoạt động"}],isAddNew:!0,branches:[],departments:[],loadingSelectForBranches:!0,loadingSelectForDepartments:!0}},watch:{showDialog:{handler:function(t){t?(this.getDataBranch(),this.directInsertOrUpdate()):this.hideDialog()}},"position.branchCode":{handler:function(t){t&&this.getDataDepartment(t)}}},methods:{getDataBranch:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loadingSelectForBranches=!0,n={},e.next=4,f["d"](n);case 4:a=e.sent,200===a.code&&(t.branches=a.data,t.loadingSelectForBranches=!1);case 6:case"end":return e.stop()}}),e)})))()},getDataDepartment:function(t){var e=this;return Object(c["a"])(Object(r["a"])().mark((function n(){var a,i;return Object(r["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(t),e.loadingSelectForDepartments=!0,a={branchCode:t},n.next=5,g["b"](a);case 5:i=n.sent,200===i.code&&(e.departments=i.data,e.loadingSelectForDepartments=!1);case 7:case"end":return n.stop()}}),n)})))()},hideDialog:function(){var t=this;this.$nextTick((function(){t.$refs.createUpdatePosition.reset()})),this.$emit("hideDialog",!1)},directInsertOrUpdate:function(){null===this.id?this.isShowAddNew():this.isShowEdit()},isShowAddNew:function(){this.position={branchCode:null,status:1,departmentCode:null,name:null,version:null},this.isAddNew=!0},isShowEdit:function(){this.getPosition(),this.isAddNew=!1},getPosition:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["c"](t.id);case 2:n=e.sent,200===n.code&&(t.position=t.mapResponse(n.data),t.notifyInfo("Thông tin",n.message));case 4:case"end":return e.stop()}}),e)})))()},mapResponse:function(t){var e={name:t.name,branchCode:t.branchCode,departmentCode:t.departmentCode,status:t.status,version:t.version};return e},save:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n,a,i,o;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isAddNew){e.next=8;break}return n=t.mapPositionInsert(),e.next=4,u["e"](n);case 4:a=e.sent,200===a.code&&(t.notifySuccess("Thông báo",a.message),t.$emit("modifySuccess"),t.hideDialog()),e.next=13;break;case 8:return i=t.mapPositionUpdate(),e.next=11,u["f"](t.id,i);case 11:o=e.sent,200===o.code&&(t.notifySuccess("Thông báo",o.message),t.$emit("modifySuccess"),t.hideDialog());case 13:case"end":return e.stop()}}),e)})))()},mapPositionInsert:function(){var t={branchCode:this.position.branchCode,status:this.position.status,departmentCode:this.position.departmentCode,name:this.position.name};return t},mapPositionUpdate:function(){var t={branchCode:this.position.branchCode,status:this.position.status,departmentCode:this.position.departmentCode,name:this.position.name,version:this.position.version};return t}}},v=b,C=(n("56bd"),n("2877")),y=Object(C["a"])(v,d,h,!1,null,"8f34b510",null),k=y.exports,T={name:"Position",components:{ModifyDialog:k},mixins:[l["a"]],data:function(){return{listStatus:[{value:null,label:"-- Tất cả -- "},{value:0,label:"Tạm ngưng"},{value:1,label:"Hoạt động"}],search:{branchCode:null,branchCodeNumber:null,branchName:null,status:null,departmentName:null,name:null},headers:[{label:"Mã đơn vị",prop:"branchCode",formatter:null},{label:"Mã số đơn vị",prop:"branchCodeNumber"},{label:"Tên đơn vị",prop:"branchName"},{label:"Chức vụ",prop:"name"},{label:"trạng thái",prop:"status",formatter:this.convertStatusName,contentAlign:"left",headerAlign:"left"}],positions:[],isShowDialog:!1}},created:function(){this.getPositions()},methods:{handleDelete:function(t,e){var n=this;this.$confirm("Bạn có chắc chắn muốn xoá bản ghi này không?","Cảnh báo",{confirmButtonText:"Đồng ý",cancelButtonText:"Huỷ",type:"warning",center:!0}).then(Object(c["a"])(Object(r["a"])().mark((function t(){var a,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={id:e.id,version:e.version},t.next=3,u["a"](e.id,a);case 3:i=t.sent,200===i.code&&(n.notifyInfo("Thông tin",i.message),n.getPositions());case 5:case"end":return t.stop()}}),t)})))).catch((function(t){}))},handleCurrentChange:function(t){this.pagination.pageNumber=t,this.getBranches()},handleSizeChange:function(t){this.pagination.pageSize=t,this.getBranches()},hideDialog:function(t){this.isShowDialog=t},showDialog:function(){this.id=null,this.isShowDialog=!0},handleEdit:function(t,e){this.id=e.id,this.isShowDialog=!0},removeFilter:function(){this.search={branchCode:null,branchCodeNumber:null,branchName:null,status:null,departmentName:null,name:null},this.pagination={pageNumber:1,pageSize:10,totalItems:0,totalPages:0},this.getPositions()},convertStatusName:function(t){var e;return null===(e=this.listStatus.filter((function(e){return e.value===t.status}))[0])||void 0===e?void 0:e.label},getPositions:function(){var t=this;return Object(c["a"])(Object(r["a"])().mark((function e(){var n,a;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoading(),n={branchCode:t.search.branchCode,branchCodeNumber:t.search.branchCodeNumber,branchName:t.search.branchName,status:t.search.status,departmentName:t.search.departmentName,name:t.search.name,pageIndex:t.pagination.pageNumber,pageSize:t.pagination.pageSize},e.next=4,u["d"](n);case 4:a=e.sent,200===a.code&&(t.positions=a.data.result,t.pagination={pageNumber:a.data.pageNumber,pageSize:a.data.pageSize,totalItems:a.data.totalItems,totalPages:a.data.totalPages},t.notifyInfo("Thông tin",a.message),t.hideLoading());case 6:case"end":return e.stop()}}),e)})))()}}},w=T,S=(n("773b"),Object(C["a"])(w,o,s,!1,null,"be322f64",null)),N=S.exports,x={name:"SysFuntion",components:{list:N},data:function(){return{}},created:function(){},methods:{}},O=x,D=Object(C["a"])(O,a,i,!1,null,null,null);e["default"]=D.exports},b4a5:function(t,e,n){"use strict";e["a"]={data:function(){return{pagination:{pageNumber:1,pageSize:10,totalItems:0,totalPages:0},pageSizes:[10,20,50,100]}},methods:{}}},b675:function(t,e,n){}}]);